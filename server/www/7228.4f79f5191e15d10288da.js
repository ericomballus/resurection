(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[7228],{7228:(n,e,i)=>{"use strict";i.r(e),i.d(e,{InvoiceHalfpaidPageModule:()=>b});var o=i(1511),t=i(6073),s=i(8777),c=i(8158),a=i(1064),l=i(4762),r=i(994),g=i(1572),d=i(5946),Z=i(731);function u(n,e){1&n&&(g.TgZ(0,"ion-buttons",8),g._UZ(1,"ion-menu-button",9),g.qZA())}function m(n,e){1&n&&(g.TgZ(0,"ion-buttons",8),g._UZ(1,"ion-back-button",10),g.qZA())}function h(n,e){1&n&&g._UZ(0,"ion-icon",21)}function f(n,e){1&n&&g._UZ(0,"ion-icon",22)}function A(n,e){1&n&&g._UZ(0,"ion-icon",23)}function p(n,e){1&n&&g._UZ(0,"ion-icon",24)}const q=function(n){return{"background-color":n}};function T(n,e){if(1&n){const n=g.EpF();g.TgZ(0,"ion-row",11),g.NdJ("click",function(){g.CHM(n);const i=e.$implicit;return g.oxw().displayDetails(i)}),g.TgZ(1,"ion-col",12),g.TgZ(2,"div",13),g.TgZ(3,"small",14),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"ion-col",15),g.TgZ(6,"div",13),g.TgZ(7,"small",14),g._uU(8),g.ALo(9,"currency"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"ion-col",15),g.TgZ(11,"div",13),g.TgZ(12,"small",14),g._uU(13),g.ALo(14,"currency"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(15,"ion-col",15),g.TgZ(16,"div",13),g.TgZ(17,"small",14),g._uU(18),g.ALo(19,"currency"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(20,"ion-col",15),g.TgZ(21,"div",13),g.TgZ(22,"small",14),g._uU(23),g.ALo(24,"date"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"ion-col",15),g.TgZ(26,"div",13),g.TgZ(27,"small",14),g._uU(28),g.qZA(),g.qZA(),g.qZA(),g.TgZ(29,"ion-col",12),g.TgZ(30,"div",13),g.TgZ(31,"div",16),g.YNc(32,h,1,0,"ion-icon",17),g.YNc(33,f,1,0,"ion-icon",18),g.YNc(34,A,1,0,"ion-icon",19),g.YNc(35,p,1,0,"ion-icon",20),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&n){const n=e.$implicit;g.Q6J("ngStyle",g.VKq(23,q,e.index%2==0?"#f1f1f1":"white")),g.xp6(4),g.hij(" ",n.tableNumber,""),g.xp6(4),g.hij(" ",g.xi3(9,11,n.commande.cartdetails.totalPrice,"FCFA"),""),g.xp6(5),g.hij(" ",g.xi3(14,14,n.avance,"FCFA"),""),g.xp6(5),g.hij(" ",g.xi3(19,17,-1*n.reste,"FCFA"),""),g.xp6(5),g.hij(" ",g.xi3(24,20,n.created,"medium"),""),g.xp6(5),g.hij(" ",n.userName,""),g.xp6(4),g.Q6J("ngIf",!n.confirm&&!n.Posconfirm),g.xp6(1),g.Q6J("ngIf",!n.confirm&&n.Posconfirm),g.xp6(1),g.Q6J("ngIf",n.confirm&&n.Posconfirm&&!n.sale),g.xp6(1),g.Q6J("ngIf",n.confirm&&n.Posconfirm&&n.sale)}}const v=[{path:"",component:(()=>{class n{constructor(n,e,i,o){this.adminService=n,this.modalController=e,this.translateConfigService=i,this.translate=o,this.invoices=[],this.tabRoles=[],this.admin=!1,this.manager=!1,this.numPage=0,this.nbrPages=0,this.traduction=!1,this.getOrders(),this.languageChanged(),this.tabRoles=JSON.parse(localStorage.getItem("roles")),this.tabRoles.includes("admin")||this.tabRoles.includes("caissi\xe9re")||this.tabRoles.includes("manager"),this.tabRoles.includes("admin")&&(this.admin=!0),this.tabRoles.includes("manager")&&(this.manager=!0)}ngOnInit(){}getInvoice(){this.adminService.getInvoiceHalfPaid().subscribe(n=>{console.log(n),n&&n.docs.docs&&(this.invoices=n.docs.docs,this.numPage=n.docs.page,this.nbrPages=n.docs.pages)},n=>{console.log("error here",n)})}displayDetails(n){return(0,l.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:r.k,componentProps:{order:n,flags:!0}});return e.onDidDismiss().then(n=>{console.log(n)}),yield e.present()})}loadData(n){let e=this.numPage+1;console.log(this.invoices.length),e>this.nbrPages?n.target.disabled=!0:this.adminService.getInvoicePaie2(e).subscribe(e=>{if(n.target.complete(),console.log(e),e&&e.docs.docs){this.numPage=parseInt(e.docs.page),this.nbrPages=e.docs.pages;let n=[...this.invoices,...e.docs.docs];this.invoices=n}},n=>{console.log("error here",n)})}languageChanged(){console.log("lang shop page");let n=localStorage.getItem("language");n&&this.translateConfigService.setLanguage(n)}getOrders(){this.adminService.getInvoiceHalfPaid().subscribe(n=>{console.log(n),n&&n.docs&&(this.invoices=n.docs)},n=>{console.log("error here",n)})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(d.l),g.Y36(c.IN),g.Y36(Z.w),g.Y36(a.sK))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-invoice-halfpaid"]],viewQuery:function(n,e){if(1&n&&g.Gf(c.ju,1),2&n){let n;g.iGM(n=g.CRH())&&(e.infiniteScroll=n.first)}},decls:40,vars:6,consts:[["slot","start",4,"ngIf"],[1,"header-row"],["size","1","size-md","1"],[1,"ion-text-center"],["size","2","size-md","2"],["class","data-row data-update",3,"ngStyle","click",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],["slot","start"],["autoHide","false"],["defaultHref","/point-of-sale"],[1,"data-row","data-update",3,"ngStyle","click"],["size","1","size-md","1",1,"ion-no-margin"],[1,"ion-text-center","ion-text-uppercase","ion-text-nowrap"],[1,"namesmall"],["size","2","size-md","2",1,"ion-no-margin"],[1,"divcenter"],["slot","end","color","danger","name","checkmark-circle-outline",4,"ngIf"],["slot","end","color","warning","name","checkmark-circle-outline",4,"ngIf"],["slot","end","color","success","name","checkmark-circle-outline",4,"ngIf"],["slot","end","color","sucess","name","checkbox",4,"ngIf"],["slot","end","color","danger","name","checkmark-circle-outline"],["slot","end","color","warning","name","checkmark-circle-outline"],["slot","end","color","success","name","checkmark-circle-outline"],["slot","end","color","sucess","name","checkbox"]],template:function(n,e){1&n&&(g.TgZ(0,"ion-header"),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-title"),g._uU(3),g.ALo(4,"translate"),g.qZA(),g.YNc(5,u,2,0,"ion-buttons",0),g.YNc(6,m,2,0,"ion-buttons",0),g.qZA(),g.qZA(),g.TgZ(7,"ion-content"),g.TgZ(8,"ion-row",1),g.TgZ(9,"ion-col",2),g.TgZ(10,"div",3),g.TgZ(11,"small"),g._uU(12,"table"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"ion-col",4),g.TgZ(14,"div",3),g.TgZ(15,"small"),g._uU(16,"montant"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(17,"ion-col",4),g.TgZ(18,"div",3),g.TgZ(19,"small"),g._uU(20,"avance"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"ion-col",4),g.TgZ(22,"div",3),g.TgZ(23,"small"),g._uU(24,"reste"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"ion-col",4),g.TgZ(26,"div",3),g.TgZ(27,"small"),g._uU(28,"date"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(29,"ion-col",4),g.TgZ(30,"div",3),g.TgZ(31,"small"),g._uU(32,"name"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(33,"ion-col",2),g.TgZ(34,"div",3),g.TgZ(35,"small"),g._uU(36,"\xe9tat"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(37,T,36,25,"ion-row",5),g.TgZ(38,"ion-infinite-scroll",6),g.NdJ("ionInfinite",function(n){return e.loadData(n)}),g._UZ(39,"ion-infinite-scroll-content",7),g.qZA(),g.qZA()),2&n&&(g.xp6(3),g.Oqu(g.lcZ(4,4,"MENU.invoicesamoitiee")),g.xp6(2),g.Q6J("ngIf",e.admin||e.manager),g.xp6(1),g.Q6J("ngIf",!e.admin&&!e.manager),g.xp6(31),g.Q6J("ngForOf",e.invoices))},directives:[c.Gu,c.sr,c.wd,o.O5,c.W2,c.Nd,c.wI,o.sg,c.ju,c.MB,c.Sm,c.fG,c.oU,c.cs,o.PC,c.gu],pipes:[a.X$,o.H9,o.uU],styles:[".divcenter[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:0;padding:0}"]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[o.ez,t.u5,c.Pc,s.Bz.forChild(v),a.aw.forChild()]]}),n})()}}]);