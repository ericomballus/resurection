(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[2428],{2428:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CategoryPageModule:()=>m});var o=i(1511),n=i(6073),s=i(8777),r=i(8158),a=i(4762),c=i(1572),l=i(5897),g=i(1064);const u=["form"];function d(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"form",7,8),c.NdJ("ngSubmit",function(){c.CHM(e);const t=c.MAs(1);return c.oxw().register(t)}),c.TgZ(2,"ion-grid"),c.TgZ(3,"ion-row",9),c.TgZ(4,"ion-col",10),c.TgZ(5,"div",11),c.TgZ(6,"ion-item"),c.TgZ(7,"ion-label",12),c._uU(8),c.ALo(9,"translate"),c.qZA(),c._UZ(10,"ion-input",13),c.qZA(),c.qZA(),c.TgZ(11,"div",11),c.TgZ(12,"ion-button",14),c._uU(13),c.ALo(14,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.MAs(1);c.xp6(8),c.Oqu(c.lcZ(9,3,"MENU.name")),c.xp6(4),c.Q6J("disabled",e.invalid),c.xp6(1),c.Oqu(c.lcZ(14,5,"MENU.save"))}}function p(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-item"),c.TgZ(1,"ion-label"),c.TgZ(2,"p",16),c._uU(3),c.qZA(),c.TgZ(4,"p"),c._uU(5),c.ALo(6,"date"),c.qZA(),c.qZA(),c.TgZ(7,"ion-button",17),c.NdJ("click",function(){c.CHM(e);const i=t.$implicit;return c.oxw(2).deleteCategories(i)}),c._UZ(8,"ion-icon",18),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit;c.xp6(3),c.Oqu(e.name),c.xp6(2),c.Oqu(c.lcZ(6,2,e.created))}}function Z(e,t){if(1&e&&(c.TgZ(0,"ion-list"),c._UZ(1,"ion-list-header"),c.YNc(2,p,9,4,"ion-item",15),c.qZA()),2&e){const e=c.oxw();c.xp6(2),c.Q6J("ngForOf",e.categories)}}const f=[{path:"",component:(()=>{class e{constructor(e,t,i,o){this.catService=e,this.modalController=t,this.alertController=i,this.route=o,this.tabRoles=[],this.admin=!1,this.originPage="",this.tabRoles=JSON.parse(localStorage.getItem("roles")),this.tabRoles.includes(1)&&(this.getCategories(),this.admin=!0)}ngOnInit(){this.route.queryParams.subscribe(e=>{console.log(e),this.originPage=e.page,console.log(this.originPage)})}register(e){console.log(e.value),e.value.page=this.originPage,this.catService.addUserCategories(e.value).subscribe(e=>{this.formulaire.reset(),this.getCategories()})}presentAlert(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"MAERI",message:"success!!!!",buttons:["OK"]});yield e.present()})}getCategories(){this.catService.getCategories().subscribe(e=>{this.categories=e.category.filter(e=>{if(e.page)return e.page==this.originPage})})}deleteCategories(e){this.catService.deleteCategories(e._id).subscribe(e=>{console.log(e),this.getCategories()})}createCategory(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"MAERI",message:"success!!!!",buttons:["OK"]});yield e.present()})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(l.q),c.Y36(r.IN),c.Y36(r.Br),c.Y36(s.gz))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-category"]],viewQuery:function(e,t){if(1&e&&c.Gf(u,1,n.F),2&e){let e;c.iGM(e=c.CRH())&&(t.formulaire=e.first)}},decls:10,vars:3,consts:[["color","primary"],["slot","end"],["slot","start"],[3,"defaultHref"],[3,"ngSubmit",4,"ngIf"],[1,"container"],[4,"ngIf"],[3,"ngSubmit"],["form","ngForm"],["color","primary","justify-content-center",""],["align-self-center","","size-md","6","size-lg","5","size-xs","12"],["padding",""],["position","floating"],["name","name","type","text","ngModel","","required",""],["color","danger","size","large","type","submit","expand","block",3,"disabled"],[4,"ngFor","ngForOf"],[1,"p1"],["color","danger","slot","end","small","",3,"click"],["slot","icon-only","name","trash"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar",0),c._UZ(2,"ion-title"),c._UZ(3,"ion-buttons",1),c.TgZ(4,"ion-buttons",2),c._UZ(5,"ion-back-button",3),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"ion-content"),c.YNc(7,d,15,7,"form",4),c.TgZ(8,"div",5),c.YNc(9,Z,3,1,"ion-list",6),c.qZA(),c.qZA()),2&e&&(c.xp6(5),c.MGl("defaultHref","/",t.originPage,""),c.xp6(2),c.Q6J("ngIf",t.admin),c.xp6(2),c.Q6J("ngIf",t.categories))},directives:[r.Gu,r.sr,r.wd,r.Sm,r.oU,r.cs,r.W2,o.O5,n.Y7,n.JL,n.F,r.jY,r.Nd,r.wI,r.Ie,r.Q$,r.pK,r.j9,n.JJ,n.On,n.Q7,r.YG,r.q_,r.yh,o.sg,r.gu],pipes:[g.X$,o.uU],styles:["ion-button[_ngcontent-%COMP%]{margin:5px}p[_ngcontent-%COMP%]{text-transform:uppercase}"]}),e})()}];let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,n.u5,r.Pc,s.Bz.forChild(f),g.aw.forChild()]]}),e})()}}]);