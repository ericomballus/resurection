(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[9121],{9121:(n,t,e)=>{"use strict";e.r(t),e.d(t,{VendorOrderProposalPageModule:()=>O});var o=e(1511),i=e(6073),c=e(8158),r=e(8777),a=e(4762),s=e(1572),d=e(3400),g=e(4144),l=e(2874);function p(n,t){if(1&n){const n=s.EpF();s.TgZ(0,"ion-input",15),s.NdJ("ionChange",function(t){s.CHM(n);const e=s.oxw().$implicit;return s.oxw(3).changePrice(t,e)}),s.qZA()}if(2&n){const n=s.oxw().$implicit;s.Q6J("value",n.item.packPrice)}}function u(n,t){if(1&n){const n=s.EpF();s.TgZ(0,"ion-input",15),s.NdJ("ionChange",function(t){s.CHM(n);const e=s.oxw().$implicit;return s.oxw(3).changePrice(t,e)}),s.qZA()}2&n&&s.Q6J("value",0)}function f(n,t){if(1&n&&(s.TgZ(0,"div",12),s._uU(1),s.ALo(2,"currency"),s.qZA()),2&n){const n=s.oxw(2).$implicit;s.xp6(1),s.hij(" ",s.gM2(2,1,n.qty*n.item.packPrice,"CFA","symbol","3.0-0")," ")}}function m(n,t){if(1&n&&(s.TgZ(0,"ion-col",8),s.YNc(1,f,3,6,"div",16),s.qZA()),2&n){const n=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf",n.item.packPrice)}}function h(n,t){if(1&n&&(s.TgZ(0,"div",12),s._uU(1),s.ALo(2,"currency"),s.qZA()),2&n){const n=s.oxw(2).$implicit;s.xp6(1),s.hij(" ",s.gM2(2,1,n.qty*n.item.packPrice+n.item.nbrBtl*n.item.purchasingPrice,"CFA","symbol","3.0-0")," ")}}function x(n,t){if(1&n&&(s.TgZ(0,"ion-col",8),s.YNc(1,h,3,6,"div",16),s.qZA()),2&n){const n=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf",n.item.packPrice)}}function Z(n,t){if(1&n&&(s.TgZ(0,"ion-row",11),s.TgZ(1,"ion-col",8),s.TgZ(2,"div",12),s._uU(3),s.qZA(),s.qZA(),s.TgZ(4,"ion-col",8),s.TgZ(5,"div",9),s.YNc(6,p,1,1,"ion-input",13),s.YNc(7,u,1,1,"ion-input",13),s.qZA(),s.qZA(),s.TgZ(8,"ion-col",8),s.TgZ(9,"div",12),s._uU(10),s.qZA(),s.qZA(),s.YNc(11,m,2,1,"ion-col",14),s.YNc(12,x,2,1,"ion-col",14),s.qZA()),2&n){const n=t.$implicit;s.xp6(3),s.Oqu(n.item.name),s.xp6(3),s.Q6J("ngIf",n.item.packPrice),s.xp6(1),s.Q6J("ngIf",!n.item.packPrice),s.xp6(3),s.Oqu(n.qty),s.xp6(1),s.Q6J("ngIf",!n.item.nbrBtl),s.xp6(1),s.Q6J("ngIf",n.item.nbrBtl)}}function C(n,t){if(1&n&&(s.TgZ(0,"div"),s.TgZ(1,"ion-row",7),s.TgZ(2,"ion-col",8),s.TgZ(3,"div",9),s._uU(4,"name"),s.qZA(),s.qZA(),s.TgZ(5,"ion-col",8),s.TgZ(6,"div",9),s._uU(7,"price"),s.qZA(),s.qZA(),s.TgZ(8,"ion-col",8),s.TgZ(9,"div",9),s._uU(10,"Qty"),s.qZA(),s.qZA(),s.TgZ(11,"ion-col",8),s.TgZ(12,"div",9),s._uU(13,"T.price"),s.qZA(),s.qZA(),s.qZA(),s.YNc(14,Z,13,6,"ion-row",10),s.qZA()),2&n){const n=s.oxw(2);s.xp6(14),s.Q6J("ngForOf",n.cart)}}function P(n,t){if(1&n){const n=s.EpF();s.TgZ(0,"ion-content"),s.TgZ(1,"ion-item"),s.TgZ(2,"ion-label"),s._uU(3,"choisir une date de livraison:"),s.qZA(),s.TgZ(4,"ion-datetime",6),s.NdJ("ionChange",function(t){return s.CHM(n),s.oxw().getLivraisonTime(t)}),s.qZA(),s.qZA(),s.YNc(5,C,15,1,"div",5),s.qZA()}if(2&n){const n=s.oxw();s.xp6(5),s.Q6J("ngIf",n.cart)}}const _=[{path:"",component:(()=>{class n{constructor(n,t,e,o,i,c){this.selectVendor=n,this.restApiService=t,this.loadingController=e,this.toastController=o,this.router=i,this.notif=c,this.isLoading=!1,this.cart=this.selectVendor.getCart(),this.retailer=this.selectVendor.getData(),console.log(this.retailer)}ngOnInit(){}changePrice(n,t){}getLivraisonTime(n){this.date=new Date(n.target.value)}sendCommande(){this.presentLoading2(),JSON.parse(localStorage.getItem("user"));let n={retailerId:this.retailer.retailerId._id,vendorId:this.retailer.vendorId,commandes:this.cart};console.log(n),this.date?(n.dateLivraison=this.date,this.presentLoading2(),this.selectVendor.postProposalOrder(n).subscribe(n=>{console.log(n),this.dismissLoading(),this.presentToast(),this.cart=null,setTimeout(()=>{this.router.navigateByUrl("/vendor-retailer-list")},4e3)})):this.notif.presentToast("veillez choisir une heure pour livraison","danger")}presentLoading2(){return(0,a.mG)(this,void 0,void 0,function*(){return this.isLoading=!0,yield this.loadingController.create({duration:8e3,message:"please wait ..."}).then(n=>{n.present().then(()=>{this.isLoading||n.dismiss().then()})})})}dismissLoading(){return(0,a.mG)(this,void 0,void 0,function*(){return this.isLoading=!1,yield this.loadingController.dismiss().then()})}presentToast(){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Votre commande a \xe9t\xe9 transmise",duration:5e3,position:"middle",color:"success"})).present()})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(d.A),s.Y36(g.e),s.Y36(c.HT),s.Y36(c.yF),s.Y36(r.F0),s.Y36(l.g))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-vendor-order-proposal"]],decls:9,vars:1,consts:[["slot","start"],["defaultHref","/vendor-retailer-products"],["slot","end"],["color","success","fill","clear","size","small",3,"click"],["slot","end","name","thumbs-up-outline"],[4,"ngIf"],["displayFormat","MMM DD, YYYY HH:mm","pickerFormat","MMM DD, YYYY HH:mm",3,"ionChange"],[1,"header-row"],["size","3",1,"ion-align-self-center"],[1,"ion-text-center"],["class","data-row data-update",4,"ngFor","ngForOf"],[1,"data-row","data-update"],[1,"ion-text-center","commande"],["debounce","500","placeholder","price.",3,"value","ionChange",4,"ngIf"],["size","3","class","ion-align-self-center",4,"ngIf"],["debounce","500","placeholder","price.",3,"value","ionChange"],["class","ion-text-center commande",4,"ngIf"]],template:function(n,t){1&n&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s._UZ(3,"ion-back-button",1),s.qZA(),s.TgZ(4,"ion-buttons",2),s.TgZ(5,"ion-button",3),s.NdJ("click",function(){return t.sendCommande()}),s._uU(6," ok "),s._UZ(7,"ion-icon",4),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(8,P,6,1,"ion-content",5)),2&n&&(s.xp6(8),s.Q6J("ngIf",t.cart))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.YG,c.gu,o.O5,c.W2,c.Ie,c.Q$,c.x4,c.QI,c.Nd,c.wI,o.sg,c.pK,c.j9],pipes:[o.H9],styles:[".round[_ngcontent-%COMP%]{--width:3px;--height:3px;--vertical-align:middle;margin:5px;font-size:9px}.h3[_ngcontent-%COMP%]{text-transform:uppercase}.productname[_ngcontent-%COMP%]{background-color:#f1f1f1;font-size:10px}.montant[_ngcontent-%COMP%], .productname[_ngcontent-%COMP%]{font-weight:700}.divprod[_ngcontent-%COMP%]{width:100%}ion-col[_ngcontent-%COMP%]   .inte[_ngcontent-%COMP%]{font-size:9px}.data-lastrow[_ngcontent-%COMP%]{background-color:#f1f1f1}.data-lastrow[_ngcontent-%COMP%], .header-row[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.header-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:9px}.calcul[_ngcontent-%COMP%]{border:1px solid #f1f1f1}.pad[_ngcontent-%COMP%]{padding-top:15px}.header-row[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#000}.smalle[_ngcontent-%COMP%]{font-weight:700;font-size:15px;padding:5px}ion-input[_ngcontent-%COMP%]{--background:#f1f1f1;--padding-start:15px;--padding-end:15px;--padding-top:15px;--padding-bottom:15px;font-weight:700}ion-col[_ngcontent-%COMP%]   .commande[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]{font-size:11px}.badge[_ngcontent-%COMP%], .badge2[_ngcontent-%COMP%]{width:25%;position:absolute;top:7%;display:flex;justify-content:space-between;font-size:13px}.badge2[_ngcontent-%COMP%]{padding:5px;z-index:2}.colstyle[_ngcontent-%COMP%]{border-radius:5%;border:1px solid #f1f1f1}.cardimage[_ngcontent-%COMP%]{text-align:center}.divitem[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.inItem[_ngcontent-%COMP%]{flex-grow:1;width:25%}.inItem2[_ngcontent-%COMP%]{text-align:center}.inItem3[_ngcontent-%COMP%]{font-size:10px;padding-left:10px;font-weight:700;text-transform:uppercase}.divBtn[_ngcontent-%COMP%]{display:flex}div[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background-color:#f1f1f1}.displayPrice[_ngcontent-%COMP%]{font-size:11px}.footer[_ngcontent-%COMP%]{background-color:#fff;padding:8%;position:relative}.footer2[_ngcontent-%COMP%]{background-color:#08d46e;padding:3%;text-align:center}.img-container[_ngcontent-%COMP%]{text-align:center;display:block}ion-item[_ngcontent-%COMP%]{--background:#9ef052;--padding-start:10px;--padding-end:10px;--padding-top:10px;--padding-bottom:10px;margin-left:25px;margin-right:25px;font-size:11px;font-weight:700}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[r.Bz.forChild(_)],r.Bz]}),n})(),O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[o.ez,i.u5,c.Pc,M]]}),n})()}}]);