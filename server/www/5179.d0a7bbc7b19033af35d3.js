(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[5179],{5179:(n,o,t)=>{"use strict";t.r(o),t.d(o,{StoreCustomerInvoicePageModule:()=>k});var e=t(1511),i=t(6073),s=t(8158),c=t(8777),r=t(4762),l=t(994),a=t(1572),g=t(4375),Z=t(6529),d=t(731),u=t(4418),m=t(1064);function p(n,o){1&n&&(a.TgZ(0,"ion-row",4),a.TgZ(1,"ion-col",5),a.TgZ(2,"div",6),a.TgZ(3,"small"),a._uU(4),a.ALo(5,"translate"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"ion-col",5),a.TgZ(7,"div",6),a.TgZ(8,"small"),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"ion-col",7),a.TgZ(12,"div",6),a.TgZ(13,"small"),a._uU(14,"re\xe7u"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(15,"ion-col",7),a.TgZ(16,"div",6),a.TgZ(17,"small"),a._uU(18),a.ALo(19,"translate"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(20,"ion-col",7),a.TgZ(21,"div",6),a.TgZ(22,"small"),a._uU(23,"Monnaie "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(24,"ion-col",7),a.TgZ(25,"div",6),a.TgZ(26,"small"),a._uU(27),a.ALo(28,"translate"),a.qZA(),a.qZA(),a.qZA(),a._UZ(29,"ion-col",7),a.qZA()),2&n&&(a.xp6(4),a.Oqu(a.lcZ(5,4,"MENU.date")),a.xp6(5),a.Oqu(a.lcZ(10,6,"MENU.invoicesdetails")),a.xp6(9),a.Oqu(a.lcZ(19,8,"MENU.amount")),a.xp6(9),a.Oqu(a.lcZ(28,10,"MENU.made_by")))}const f=function(n){return[n,"FCFA","symbol","3.0-0","fr"]};function A(n,o){if(1&n&&(a.TgZ(0,"ion-col",13),a.TgZ(1,"div",11),a.TgZ(2,"small",12),a._uU(3),a.ALo(4,"currency"),a.qZA(),a.qZA(),a.qZA()),2&n){const n=a.oxw().$implicit;a.xp6(3),a.hij(" ",a.G7q(4,1,a.VKq(7,f,n.rembourse)),"")}}const q=function(){return[0,"FCFA","symbol","3.0-0","fr"]};function T(n,o){1&n&&(a.TgZ(0,"ion-col",13),a.TgZ(1,"div",11),a.TgZ(2,"small",12),a._uU(3),a.ALo(4,"currency"),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.xp6(3),a.hij(" ",a.G7q(4,1,a.DdM(7,q)),""))}const h=function(n){return{"background-color":n}};function x(n,o){if(1&n){const n=a.EpF();a.TgZ(0,"ion-row",9),a.TgZ(1,"ion-col",10),a.TgZ(2,"div",11),a.TgZ(3,"small",12),a._uU(4),a.ALo(5,"date"),a.qZA(),a._UZ(6,"br"),a.TgZ(7,"small",12),a._uU(8),a.ALo(9,"date"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"ion-col",10),a.TgZ(11,"div",11),a.TgZ(12,"small",12),a._uU(13),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"ion-col",13),a.TgZ(15,"div",11),a.TgZ(16,"small",12),a._uU(17),a.ALo(18,"currency"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"ion-col",13),a.TgZ(20,"div",11),a.TgZ(21,"small",12),a._uU(22),a.ALo(23,"currency"),a.qZA(),a.qZA(),a.qZA(),a.YNc(24,A,5,9,"ion-col",14),a.YNc(25,T,5,8,"ion-col",14),a.TgZ(26,"ion-col",13),a.TgZ(27,"div",11),a.TgZ(28,"small",12),a._uU(29),a.qZA(),a.qZA(),a.qZA(),a.TgZ(30,"ion-col",13),a.TgZ(31,"div",11),a.TgZ(32,"ion-button",15),a.NdJ("click",function(){a.CHM(n);const t=o.$implicit;return a.oxw(2).displayDetails(t)}),a._uU(33," voir "),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&n){const n=o.$implicit;a.Q6J("ngStyle",a.VKq(26,h,1==n.reimbursed?"red":"white")),a.xp6(4),a.hij(" ",a.lcZ(5,9,n.created),""),a.xp6(4),a.hij(" ",a.xi3(9,11,n.created,"shortTime"),""),a.xp6(5),a.hij(" ",n.numFacture,""),a.xp6(4),a.hij(" ",a.G7q(18,14,a.VKq(28,f,n.montant+n.rembourse)),""),a.xp6(5),a.hij(" ",a.G7q(23,20,a.VKq(30,f,n.montant)),""),a.xp6(2),a.Q6J("ngIf",n.rembourse),a.xp6(1),a.Q6J("ngIf",!n.rembourse),a.xp6(4),a.hij(" ",n.userName,"")}}function v(n,o){if(1&n&&(a.TgZ(0,"div"),a.YNc(1,x,34,32,"ion-row",8),a.qZA()),2&n){const n=a.oxw();a.xp6(1),a.Q6J("ngForOf",n.invoicesList)}}function _(n,o){if(1&n){const n=a.EpF();a.TgZ(0,"ion-row",18),a.TgZ(1,"ion-col"),a.TgZ(2,"div",6),a._uU(3),a.ALo(4,"date"),a.qZA(),a.qZA(),a.TgZ(5,"ion-col"),a.TgZ(6,"div",6),a._uU(7),a.ALo(8,"currency"),a.qZA(),a.qZA(),a.TgZ(9,"ion-col"),a.TgZ(10,"div",11),a._uU(11),a.qZA(),a.qZA(),a.TgZ(12,"ion-col"),a.TgZ(13,"div",6),a.TgZ(14,"ion-button",19),a.NdJ("click",function(){a.CHM(n);const t=o.$implicit;return a.oxw(2).displayDetails(t)}),a._uU(15," BUY "),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&n){const n=o.$implicit;a.Q6J("ngStyle",a.VKq(13,h,1==n.reimbursed?"red":"white")),a.xp6(3),a.hij(" ",a.xi3(4,4,n.created,"shortTime")," "),a.xp6(4),a.hij(" ",a.G7q(8,7,a.VKq(15,f,n.montant))," "),a.xp6(4),a.hij(" ",n.userName," ")}}function b(n,o){if(1&n&&(a.TgZ(0,"div"),a.TgZ(1,"ion-row",4),a.TgZ(2,"ion-col",16),a.TgZ(3,"div",6),a.TgZ(4,"small"),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(7,"ion-col",16),a.TgZ(8,"div",6),a.TgZ(9,"small"),a._uU(10),a.ALo(11,"translate"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"ion-col",16),a.TgZ(13,"div",6),a.TgZ(14,"small"),a._uU(15),a.ALo(16,"translate"),a.qZA(),a.qZA(),a.qZA(),a._UZ(17,"ion-col",16),a.qZA(),a.YNc(18,_,16,17,"ion-row",17),a.qZA()),2&n){const n=a.oxw();a.xp6(5),a.Oqu(a.lcZ(6,4,"MENU.date")),a.xp6(5),a.Oqu(a.lcZ(11,6,"MENU.amount")),a.xp6(5),a.Oqu(a.lcZ(16,8,"MENU.made_by")),a.xp6(3),a.Q6J("ngForOf",n.invoicesList)}}const C=[{path:"",component:(()=>{class n{constructor(n,o,t,e,i){this.modalController=n,this.saveRandom=o,this.screensizeService=t,this.translateConfigService=e,this.manageSocket=i}ngOnInit(){this.languageChanged(),this.screenCheck()}ionViewWillEnter(){this.webServerSocket(),this.invoicesList=this.saveRandom.getCustomerInvoices()}screenCheck(){setTimeout(()=>{this.screensizeService.isDesktopView().subscribe(n=>{this.isDesktop=n})},10)}languageChanged(){console.log("lang shop page");let n=localStorage.getItem("language");console.log(n),n&&this.translateConfigService.setLanguage(n)}displayDetails(n){return(0,r.mG)(this,void 0,void 0,function*(){const o=yield this.modalController.create({component:l.k,componentProps:{order:n,order2:n,Pos:!1},backdropDismiss:!1});return o.onDidDismiss().then(n=>{}),yield o.present()})}webServerSocket(){let n=localStorage.getItem("adminId");this.manageSocket.getSocket().subscribe(o=>{o.on(`${n}newBill`,n=>(0,r.mG)(this,void 0,void 0,function*(){this.invoicesList.filter(o=>o._id!==n.invoicesId)})),o.on(`${n}newInvoiceChange`,n=>{let o=this.invoicesList.findIndex(o=>o._id===n._id);o>=0&&this.invoicesList.splice(o,1,n)})})}}return n.\u0275fac=function(o){return new(o||n)(a.Y36(s.IN),a.Y36(g.i),a.Y36(Z.j),a.Y36(d.w),a.Y36(u.W))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-store-customer-invoice"]],decls:8,vars:3,consts:[["slot","start"],["defaultHref","/store-customer"],["class","header-row",4,"ngIf"],[4,"ngIf"],[1,"header-row"],["size","1","size-md","1"],[1,"ion-text-center"],["size","2","size-md","2"],["class","data-row data-update",3,"ngStyle",4,"ngFor","ngForOf"],[1,"data-row","data-update",3,"ngStyle"],["size","1","size-md","1",1,"ion-no-margin"],[1,"ion-text-center","ion-text-uppercase","ion-text-nowrap"],[1,"namesmalle2"],["size","2","size-md","2",1,"ion-no-margin"],["size","2","size-md","2","class","ion-no-margin",4,"ngIf"],["fill","outline",3,"click"],["size-sm","3"],["class","mobile",3,"ngStyle",4,"ngFor","ngForOf"],[1,"mobile",3,"ngStyle"],["size","small",3,"click"]],template:function(n,o){1&n&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar"),a.TgZ(2,"ion-buttons",0),a._UZ(3,"ion-back-button",1),a.qZA(),a.qZA(),a.qZA(),a.TgZ(4,"ion-content"),a.YNc(5,p,30,12,"ion-row",2),a.YNc(6,v,2,1,"div",3),a.YNc(7,b,19,10,"div",3),a.qZA()),2&n&&(a.xp6(5),a.Q6J("ngIf",o.isDesktop),a.xp6(1),a.Q6J("ngIf",o.isDesktop),a.xp6(1),a.Q6J("ngIf",!o.isDesktop))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.W2,e.O5,s.Nd,s.wI,e.sg,e.PC,s.YG],pipes:[m.X$,e.uU,e.H9],styles:["p[_ngcontent-%COMP%]{margin:0;padding:0}.orders[_ngcontent-%COMP%]{background-color:#f1f1f1;width:100%}.iconprint[_ngcontent-%COMP%]{margin-left:15px}.userName[_ngcontent-%COMP%]{font-size:11px;position:absolute;left:80%;bottom:8%;color:#fa3434}.tableNumber[_ngcontent-%COMP%]{font-size:2px;position:absolute;left:50%;bottom:40%}ion-badge[_ngcontent-%COMP%]{text-transform:uppercase;font-size:7px}.menu[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:5px;font-size:10px;border:1px solid #f1f1f1;border-radius:5px}.notif[_ngcontent-%COMP%]{color:#fff;font-size:12px;background-color:#fa3434;padding:5px;margin:auto;width:50%}.btnend[_ngcontent-%COMP%], .namesmalle2[_ngcontent-%COMP%]{font-size:11px}.btnend[_ngcontent-%COMP%]{margin:5px;text-transform:uppercase}.date[_ngcontent-%COMP%]{font-size:8px}@media (max-width:567px){.mobile[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:11px}ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:70px;font-size:11px;margin:4px}.data-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .namesmall[_ngcontent-%COMP%]{font-size:8px}.data-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:12px}.header-row[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding-top:10px;padding-bottom:10px}.header-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:9px}}"]}),n})()}];let w=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[c.Bz.forChild(C)],c.Bz]}),n})(),k=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[e.ez,i.u5,s.Pc,w,m.aw.forChild()]]}),n})()},4418:(n,o,t)=>{"use strict";t.d(o,{W:()=>l});var e=t(1344),i=t.n(e),s=t(8512),c=t(1572),r=t(2968);let l=(()=>{class n{constructor(n){this.urlService=n,this.mysocket=new s.X(null),this.sock=!1,this.takeUrl()}takeUrl(){console.log("je demmare ici url"),this.urlService.getUrl().subscribe(n=>{this.url=n,this.adminId=localStorage.getItem("adminId"),this.sockets=i()(this.url),this.mysocket.next(this.sockets)})}getSocket(){return this.mysocket}disconnectSocket(){this.sockets.disconnect()}getMySocket(){return this.sockets}}return n.\u0275fac=function(o){return new(o||n)(c.LFG(r.i))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);