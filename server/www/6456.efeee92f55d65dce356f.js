(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[6456],{6456:(n,t,e)=>{"use strict";e.r(t),e.d(t,{VendorOrdersPageModule:()=>A});var o=e(1511),i=e(6073),r=e(8158),c=e(8777),l=e(4762),g=e(1344),a=e.n(g),s=e(1572),d=e(3400),p=e(2968),f=e(2874);function x(n,t){1&n&&(s.TgZ(0,"div",14),s._uU(1," non livr\xe9 "),s.qZA())}function u(n,t){1&n&&(s.TgZ(0,"div",14),s._uU(1," confirm\xe9 "),s.qZA())}function C(n,t){1&n&&(s.TgZ(0,"div",15),s._uU(1," en traitement "),s.qZA())}function _(n,t){1&n&&(s.TgZ(0,"div",16),s._uU(1," arrived "),s.qZA())}function O(n,t){1&n&&(s.TgZ(0,"div",16),s._uU(1," delivred "),s.qZA())}function m(n,t){1&n&&(s.TgZ(0,"div",17),s._uU(1," pay\xe9 livr\xe9 "),s.qZA())}function M(n,t){1&n&&(s.TgZ(0,"div",17),s._uU(1," pay\xe9 non livr\xe9 "),s.qZA())}function P(n,t){1&n&&(s.TgZ(0,"div",18),s._uU(1," rejett\xe9 "),s.qZA())}const h=function(n){return{"background-color":n}};function v(n,t){if(1&n){const n=s.EpF();s.TgZ(0,"ion-row",8),s.NdJ("click",function(){s.CHM(n);const e=t.$implicit;return s.oxw().presentModal(e)}),s.TgZ(1,"ion-col",5),s.TgZ(2,"div",6),s._uU(3),s.ALo(4,"date"),s.ALo(5,"date"),s.qZA(),s.qZA(),s.TgZ(6,"ion-col",5),s.TgZ(7,"div",6),s._uU(8),s.qZA(),s.qZA(),s.TgZ(9,"ion-col",5),s.TgZ(10,"div",6),s._uU(11),s.ALo(12,"date"),s.qZA(),s.qZA(),s.TgZ(13,"ion-col",5),s.YNc(14,x,2,0,"div",9),s.YNc(15,u,2,0,"div",9),s.YNc(16,C,2,0,"div",10),s.YNc(17,_,2,0,"div",11),s.YNc(18,O,2,0,"div",11),s.YNc(19,m,2,0,"div",12),s.YNc(20,M,2,0,"div",12),s.YNc(21,P,2,0,"div",13),s.qZA(),s.qZA()}if(2&n){const n=t.$implicit;s.Q6J("ngStyle",s.VKq(21,h,t.index%2==0?"#f1f1f1":"white")),s.xp6(3),s.AsE(" ",s.lcZ(4,13,n.created)," ",s.xi3(5,15,n.created,"shortTime")," "),s.xp6(5),s.hij(" ",n.retailerId.company," "),s.xp6(3),s.hij(" ",s.xi3(12,18,n.dateLivraison,"shortTime")," "),s.xp6(3),s.Q6J("ngIf",!n.vendorConfirm&&1==n.status),s.xp6(1),s.Q6J("ngIf",!n.vendorConfirm&&n.orderConfirm),s.xp6(1),s.Q6J("ngIf",n.vendorConfirm&&2==n.status),s.xp6(1),s.Q6J("ngIf",n.vendorConfirm&&3==n.status),s.xp6(1),s.Q6J("ngIf",n.vendorConfirm&&4==n.status),s.xp6(1),s.Q6J("ngIf",n.paid&&n.delivered),s.xp6(1),s.Q6J("ngIf",n.paid&&!n.delivered),s.xp6(1),s.Q6J("ngIf",!n.vendorConfirm&&0==n.status)}}const b=[{path:"",component:(()=>{class n{constructor(n,t,e,o,i){this.vendorService=n,this.modalController=t,this.router=e,this.urlService=o,this.notif=i,this.commandeList=[],this.getOrder()}ngOnInit(){this.takeUrl();let n=JSON.parse(localStorage.getItem("user"))[0];this.webServerSocket(n._id)}takeUrl(){this.urlService.getUrl().subscribe(n=>{this.url=n})}getOrder(){let n=JSON.parse(localStorage.getItem("user"))[0];this.vendorService.getNotConfirmOrders(n._id).subscribe(n=>{console.log(n),this.commandeList=n})}openOrder(n,t){this.commandeList[t].open=!this.commandeList[t].open}presentModal(n){return(0,l.mG)(this,void 0,void 0,function*(){this.vendorService.setOrder(n),this.router.navigateByUrl("vendor-modal")})}webServerSocket(n){this.sockets=a()(this.url),this.sockets.on(`${n}RetailerConfirmOrder`,n=>(0,l.mG)(this,void 0,void 0,function*(){console.log(n);let t=this.commandeList.findIndex(t=>t._id==n._id);t>=0&&(n.retailerId=this.commandeList[t].retailerId,this.commandeList.splice(t,1,n))})),this.sockets.on(`${n}newRetailerOrder`,n=>(0,l.mG)(this,void 0,void 0,function*(){console.log(n),this.commandeList.unshift(n[0])}))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(d.A),s.Y36(r.IN),s.Y36(c.F0),s.Y36(p.i),s.Y36(f.g))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-vendor-orders"]],decls:24,vars:2,consts:[["slot","start"],["defaultHref","/vendor-start"],[1,"ion-align-self-center",3,"ngClass"],[1,"ion-text-center","ion-text-uppercase"],["color","primary"],["size-sm","3","size-md","3","size-xm","3","size-lm","3","size-lg","3",1,"ion-align-self-center"],[1,"ion-text-center","ion-text-uppercase","taille"],["color","primary",3,"ngStyle","click",4,"ngFor","ngForOf"],["color","primary",3,"ngStyle","click"],["class","ion-text-center ion-text-uppercase taille color1",4,"ngIf"],["class","ion-text-center ion-text-uppercase taille color2",4,"ngIf"],["class","ion-text-center ion-text-uppercase taille color3",4,"ngIf"],["class","ion-text-center",4,"ngIf"],["class","ion-text-center ion-text-uppercase taille color0",4,"ngIf"],[1,"ion-text-center","ion-text-uppercase","taille","color1"],[1,"ion-text-center","ion-text-uppercase","taille","color2"],[1,"ion-text-center","ion-text-uppercase","taille","color3"],[1,"ion-text-center"],[1,"ion-text-center","ion-text-uppercase","taille","color0"]],template:function(n,t){1&n&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s._UZ(3,"ion-back-button",1),s.qZA(),s.qZA(),s.qZA(),s.TgZ(4,"ion-content"),s.TgZ(5,"ion-row"),s.TgZ(6,"ion-col",2),s.TgZ(7,"div",3),s.TgZ(8,"h3"),s._uU(9,"les commandes"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"ion-row",4),s.TgZ(11,"ion-col",5),s.TgZ(12,"div",6),s._uU(13,"Journ\xe9\xe9"),s.qZA(),s.qZA(),s.TgZ(14,"ion-col",5),s.TgZ(15,"div",6),s._uU(16,"company"),s.qZA(),s.qZA(),s.TgZ(17,"ion-col",5),s.TgZ(18,"div",6),s._uU(19," heure livraison "),s.qZA(),s.qZA(),s.TgZ(20,"ion-col",5),s.TgZ(21,"div",6),s._uU(22,"statut"),s.qZA(),s.qZA(),s.qZA(),s.YNc(23,v,22,23,"ion-row",7),s.qZA()),2&n&&(s.xp6(6),s.Q6J("ngClass","separationBlock"),s.xp6(17),s.Q6J("ngForOf",t.commandeList))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.W2,r.Nd,r.wI,o.mk,o.sg,o.PC,o.O5],pipes:[o.uU],styles:["ion-toolbar[_ngcontent-%COMP%]{background:--ion-color-primary}.lesbtn[_ngcontent-%COMP%]{flex-wrap:wrap}.circle[_ngcontent-%COMP%], .lesbtn[_ngcontent-%COMP%]{display:flex}.circle1[_ngcontent-%COMP%]{text-align:center}.circle1[_ngcontent-%COMP%], .circle2[_ngcontent-%COMP%]{width:80%;height:80%}.circle-progress[_ngcontent-%COMP%]{font-size:25px;position:relative;top:25%}.lesbtn2[_ngcontent-%COMP%]{font-size:50%;text-transform:uppercase}.shopbtn[_ngcontent-%COMP%]{position:relative;left:8px}.col[_ngcontent-%COMP%]{align-self:center}ion-badge[_ngcontent-%COMP%]{color:#fff;position:absolute;top:0;right:0;border-radius:100%}.label[_ngcontent-%COMP%]{font-size:70%}.imgavatar[_ngcontent-%COMP%]{width:30px;height:30px}.category-block[_ngcontent-%COMP%]{margin-bottom:4px}.category-banner[_ngcontent-%COMP%]{border-left:8px solid var(--ion-color-secondary);background:var(--ion-color-light);height:40px;padding:10px;font-weight:500}.allChart[_ngcontent-%COMP%], .allChart2[_ngcontent-%COMP%], .allChart3[_ngcontent-%COMP%]{background-color:#000}.flex-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;background-color:#f1f1f1}.flex-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100px;margin:10px;text-align:center;height:75px;font-size:10px;padding-top:10%;text-transform:uppercase}.flex-container[_ngcontent-%COMP%] > .div1[_ngcontent-%COMP%]{border:1px solid #f7ab1e}.flex-container[_ngcontent-%COMP%] > .div2[_ngcontent-%COMP%]{border:1px solid #1ef7f7}.flex-container[_ngcontent-%COMP%] > .div3[_ngcontent-%COMP%]{border:1px solid #6a1ef7}.flex-container[_ngcontent-%COMP%] > .div4[_ngcontent-%COMP%]{border:1px solid #f71ee5}.titleInDiv[_ngcontent-%COMP%]{text-align:center;font-size:7px;margin:0}.numberInDiv[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:15px}.numberIntable[_ngcontent-%COMP%]{border:none;padding:10px;font-size:10px}.numberIntable[_ngcontent-%COMP%], .textRight[_ngcontent-%COMP%]{text-align:right}.textLeft[_ngcontent-%COMP%]{text-align:left}.textCenter[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%], .table1[_ngcontent-%COMP%]{border:none}.table[_ngcontent-%COMP%]{padding:0}.productname[_ngcontent-%COMP%]{text-align:left;border:none;padding:10px;font-size:10px;color:#269af8}.resume[_ngcontent-%COMP%]{margin-top:15%}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f1f1f1}th[_ngcontent-%COMP%]{border:none}.ionItem[_ngcontent-%COMP%]{width:100px;background-color:#000}div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:11px;font-weight:700}ion-col[_ngcontent-%COMP%]{border:1px solid #f1f1f1}.header-row[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.header-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:13px}.divResto[_ngcontent-%COMP%]{margin-top:100px}.alertStock[_ngcontent-%COMP%]{color:red;font-size:18px}.separationBlock[_ngcontent-%COMP%]{background-color:#494848;color:#fff;padding:15px;margin-top:15px}.desktop[_ngcontent-%COMP%]   ion-router-outlet[_ngcontent-%COMP%]{margin-top:56px;margin-bottom:56px}.desktop[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-height:40px}.desktop[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#374168}.desktop[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{--color:var(--ion-color-light)}.desktop[_ngcontent-%COMP%]   .active-link[_ngcontent-%COMP%]{--color:var(--ion-color-primary)}.footer[_ngcontent-%COMP%]{width:100%;color:#fff;font-weight:700;background:#374168;height:56px;line-height:56px;text-align:center;position:fixed;bottom:0}.btnfooter[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:#494848;font-size:11px}ion-button[_ngcontent-%COMP%]   .btnmenu[_ngcontent-%COMP%], ion-button[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center}ion-button[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:15px}.btnfooter2[_ngcontent-%COMP%]{color:#494848;font-size:11px;font-weight:bolder}ion-col[_ngcontent-%COMP%]   .inte[_ngcontent-%COMP%]{font-size:9px}.second-lastrow[_ngcontent-%COMP%]{background-color:#ebbd40;padding-top:10px;padding-bottom:10px}.last-row[_ngcontent-%COMP%]{padding-top:1px;padding-bottom:1px}.lastBtn[_ngcontent-%COMP%]{background-color:#16f08a;padding-top:10px;padding-bottom:10px}.color1[_ngcontent-%COMP%]{color:#fd5656}.color2[_ngcontent-%COMP%]{color:#4b95f7;font-size:8px}.color3[_ngcontent-%COMP%]{color:#4bf04b}"]}),n})()}];let Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[c.Bz.forChild(b)],c.Bz]}),n})(),A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[o.ez,i.u5,r.Pc,Z]]}),n})()}}]);