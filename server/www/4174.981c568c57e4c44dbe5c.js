(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[4174],{4174:(i,e,t)=>{"use strict";t.r(e),t.d(e,{SwDisplayCommandePageModule:()=>C});var n=t(1511),o=t(6073),s=t(8158),r=t(8777),a=t(1572),c=t(4375),l=t(2874),g=t(731),d=t(1064),u=t(3629);const m=["header"];function f(i,e){if(1&i){const i=a.EpF();a.TgZ(0,"ion-button",15),a.NdJ("click",function(){return a.CHM(i),a.oxw().sendToSuperWareouse()}),a._uU(1," confirmer la livraison "),a.qZA()}}function p(i,e){if(1&i&&(a.TgZ(0,"div",16),a._UZ(1,"img",17),a.qZA()),2&i){const i=a.oxw();a.xp6(1),a.s9C("src",i.setting.logo,a.LSH)}}const h=function(i){return{"background-color":i}},Z=function(i){return[i,"FCFA","symbol","3.0-0","fr"]};function A(i,e){if(1&i&&(a.TgZ(0,"ion-row",18),a.TgZ(1,"ion-col",11),a.TgZ(2,"div",19),a._uU(3),a.qZA(),a.qZA(),a.TgZ(4,"ion-col",11),a.TgZ(5,"div",19),a._uU(6),a.qZA(),a.qZA(),a.TgZ(7,"ion-col",11),a.TgZ(8,"div",19),a._uU(9),a.ALo(10,"currency"),a.qZA(),a.qZA(),a.TgZ(11,"ion-col",11),a.TgZ(12,"div",19),a._uU(13),a.ALo(14,"currency"),a.qZA(),a.qZA(),a.qZA()),2&i){const i=e.$implicit;a.Q6J("ngStyle",a.VKq(17,h,e.index%2==0?"#f1f1f1":"white")),a.xp6(3),a.hij(" ",i.request.item.name," "),a.xp6(3),a.hij(" ",i.accept," "),a.xp6(3),a.hij(" ",a.G7q(10,5,a.VKq(19,Z,i.request.item.sellingPrice))," "),a.xp6(4),a.hij(" ",a.G7q(14,11,a.VKq(21,Z,i.request.item.sellingPrice*i.accept))," ")}}function q(i,e){if(1&i&&(a.TgZ(0,"div",16),a._UZ(1,"img",17),a.qZA()),2&i){const i=a.oxw(2);a.xp6(1),a.s9C("src",i.setting.pied_page,a.LSH)}}function T(i,e){if(1&i&&(a.TgZ(0,"ion-footer"),a.TgZ(1,"div",6),a.YNc(2,q,2,1,"div",7),a.qZA(),a.qZA()),2&i){const i=a.oxw();a.xp6(2),a.Q6J("ngIf",i.setting&&i.setting.pied_page)}}const v=[{path:"",component:(()=>{class i{constructor(i,e,t,n,o,s,r){this.random=i,this.notifi=e,this.translateConfigService=t,this.translate=n,this.scService=o,this.location=s,this.menu=r,this.AgenceCommande=[],this.tabRoles=[],this.display_footer=!1,this.display_section=!1}ngOnInit(){this.languageChanged(),this.setting=this.random.getSetting(),this.AgenceCommande=this.random.getAgenceCommande(),this.originalCommande=this.random.getData(),this.AgenceCommande.forEach(i=>i.request.item.sellingPrice),console.log(this.originalCommande)}languageChanged(){let i=localStorage.getItem("language");i&&this.translateConfigService.setLanguage(i),this.tabRoles=this.random.getTabRole()}sendToSuperWareouse(){let i=this.random.getTabRole();if(i.includes(9)&&0==this.originalCommande.saConfirm)return void this.notifi.presentToast("impossible de faire cette op\xe9ration  l'administration doit d'abord l'autoris\xe9","danger");this.notifi.presentLoading();let e={};this.translate.get("MENU.confirmInvoice").subscribe(i=>{e.confirmInvoice=i}),this.translate.get("MENU.cancel").subscribe(i=>{e.cancel=i}),this.translate.get("MENU.ok").subscribe(i=>{e.ok=i}),this.translate.get("MENU.no").subscribe(i=>{e.no=i}),i.includes(7)?this.originalCommande.swConfirm=!0:i.includes(10)&&(this.originalCommande.saConfirm=!0),this.originalCommande.managerConfirm=!1,this.originalCommande.delivery=!1,this.notifi.presentAlertConfirm("vous confirmez la livraison ?","OUI","NON").then(()=>{this.scService.updatePurchase(this.originalCommande).subscribe(i=>{console.log(i),this.notifi.dismissLoading(),this.notifi.presentToast("la commande enregistr\xe9 avaec succ\xe9ss","success"),this.location.back()},i=>{this.notifi.presentToast("une erreur est survenue impossible de continuer cette op\xe9ration","danger"),console.log(i)})}).catch(i=>console.log(i))}print(){this.header.nativeElement.style.display="none",this.menu.enable(!1,"first"),this.display_footer=!0,this.display_section=!0,setTimeout(()=>{window.print(),this.header.nativeElement.style.display="block",this.menu.enable(!0,"first"),this.display_footer=!1},150)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(c.i),a.Y36(l.g),a.Y36(g.w),a.Y36(d.sK),a.Y36(u.A),a.Y36(n.Ye),a.Y36(s._q))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-sw-display-commande"]],viewQuery:function(i,e){if(1&i&&a.Gf(m,1),2&i){let i;a.iGM(i=a.CRH())&&(e.header=i.first)}},decls:35,vars:4,consts:[["header",""],["slot","start"],["defaultHref","/start"],["slot","end"],["fill","outline","color","primary",3,"click"],["fill","outline","color","success",3,"click",4,"ngIf"],[2,"padding-left","60px","padding-right","60px"],["style","margin: 15px",4,"ngIf"],["size","12"],[1,"ion-text-center","ion-text-uppercase"],[1,"header-component"],["size-sm","3","size-md","3","size-lg","3"],[1,"ion-text-center"],["class","data-row data-update",3,"ngStyle",4,"ngFor","ngForOf"],[4,"ngIf"],["fill","outline","color","success",3,"click"],[2,"margin","15px"],["alt","",2,"display","block","margin-left","auto","margin-right","auto","width","100%","height","100px",3,"src"],[1,"data-row","data-update",3,"ngStyle"],[1,"ion-text-center","ion-text-uppercase","smallSize"]],template:function(i,e){1&i&&(a.TgZ(0,"div",null,0),a.TgZ(2,"ion-header"),a.TgZ(3,"ion-toolbar"),a._UZ(4,"ion-title"),a.TgZ(5,"ion-buttons",1),a._UZ(6,"ion-back-button",2),a.qZA(),a.TgZ(7,"ion-buttons",3),a.TgZ(8,"ion-button",4),a.NdJ("click",function(){return e.print()}),a._uU(9," imprimer "),a.qZA(),a.YNc(10,f,2,0,"ion-button",5),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"ion-content"),a.TgZ(12,"div",6),a.YNc(13,p,2,1,"div",7),a.qZA(),a.TgZ(14,"ion-grid"),a.TgZ(15,"ion-row"),a.TgZ(16,"ion-col",8),a.TgZ(17,"div",9),a._uU(18," Bordereau de livraison "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"ion-grid"),a.TgZ(20,"ion-row",10),a.TgZ(21,"ion-col",11),a.TgZ(22,"div",12),a._uU(23,"Name"),a.qZA(),a.qZA(),a.TgZ(24,"ion-col",11),a.TgZ(25,"div",12),a._uU(26,"A livr\xe9"),a.qZA(),a.qZA(),a.TgZ(27,"ion-col",11),a.TgZ(28,"div",12),a._uU(29,"prix.U"),a.qZA(),a.qZA(),a.TgZ(30,"ion-col",11),a.TgZ(31,"div",12),a._uU(32,"prix.T"),a.qZA(),a.qZA(),a.qZA(),a.YNc(33,A,15,23,"ion-row",13),a.qZA(),a.qZA(),a.YNc(34,T,3,1,"ion-footer",14)),2&i&&(a.xp6(10),a.Q6J("ngIf",!e.originalCommande.swConfirm),a.xp6(3),a.Q6J("ngIf",e.setting&&e.setting.logo),a.xp6(20),a.Q6J("ngForOf",e.originalCommande.AgenceCommande),a.xp6(1),a.Q6J("ngIf",e.display_footer))},directives:[s.Gu,s.sr,s.wd,s.Sm,s.oU,s.cs,s.YG,n.O5,s.W2,s.jY,s.Nd,s.wI,n.sg,n.PC,s.fr],pipes:[n.H9],styles:[""]}),i})()}];let b=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[r.Bz.forChild(v)],r.Bz]}),i})(),C=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[n.ez,o.u5,s.Pc,b,d.aw.forChild()]]}),i})()}}]);