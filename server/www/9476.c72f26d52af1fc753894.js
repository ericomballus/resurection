(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[9476],{9476:(n,t,o)=>{"use strict";o.r(t),o.d(t,{VendorCartPageModule:()=>_});var i=o(1511),e=o(6073),c=o(8158),r=o(8777),s=o(4762),a=o(1572),d=o(3400),g=o(4144),l=o(2874);function p(n,t){if(1&n){const n=a.EpF();a.TgZ(0,"ion-input",19),a.NdJ("ionChange",function(t){a.CHM(n);const o=a.oxw().$implicit;return a.oxw(3).changePrice(t,o)}),a.qZA()}if(2&n){const n=a.oxw().$implicit;a.Q6J("value",n.item.packPrice)}}function u(n,t){if(1&n){const n=a.EpF();a.TgZ(0,"ion-input",19),a.NdJ("ionChange",function(t){a.CHM(n);const o=a.oxw().$implicit;return a.oxw(3).changePrice(t,o)}),a.qZA()}2&n&&a.Q6J("value",0)}function m(n,t){if(1&n&&(a.TgZ(0,"div",15),a._uU(1),a.qZA()),2&n){const n=a.oxw().$implicit;a.xp6(1),a.hij(" + ",n.item.nbrBtl," ")}}function f(n,t){if(1&n&&(a.TgZ(0,"div",15),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&n){const n=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",a.gM2(2,1,n.qty*n.item.packPrice,"CFA","symbol","3.0-0")," ")}}function h(n,t){if(1&n&&(a.TgZ(0,"ion-col",12),a.YNc(1,f,3,6,"div",17),a.qZA()),2&n){const n=a.oxw().$implicit;a.xp6(1),a.Q6J("ngIf",n.item.packPrice)}}function Z(n,t){if(1&n&&(a.TgZ(0,"div",15),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&n){const n=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",a.gM2(2,1,n.qty*n.item.packPrice+n.item.nbrBtl*n.item.purchasingPrice,"CFA","symbol","3.0-0")," ")}}function x(n,t){if(1&n&&(a.TgZ(0,"ion-col",12),a.YNc(1,Z,3,6,"div",17),a.qZA()),2&n){const n=a.oxw().$implicit;a.xp6(1),a.Q6J("ngIf",n.item.packPrice)}}function v(n,t){if(1&n&&(a.TgZ(0,"ion-row",14),a.TgZ(1,"ion-col",10),a.TgZ(2,"div",15),a._uU(3),a.qZA(),a.qZA(),a.TgZ(4,"ion-col",10),a.TgZ(5,"div",11),a.YNc(6,p,1,1,"ion-input",16),a.YNc(7,u,1,1,"ion-input",16),a.qZA(),a.qZA(),a.TgZ(8,"ion-col",12),a.TgZ(9,"div",15),a._uU(10),a.qZA(),a.qZA(),a.TgZ(11,"ion-col",12),a.YNc(12,m,2,1,"div",17),a.qZA(),a.YNc(13,h,2,1,"ion-col",18),a.YNc(14,x,2,1,"ion-col",18),a.qZA()),2&n){const n=t.$implicit;a.xp6(3),a.Oqu(n.item.name),a.xp6(3),a.Q6J("ngIf",n.item.packPrice),a.xp6(1),a.Q6J("ngIf",!n.item.packPrice),a.xp6(3),a.Oqu(n.qty),a.xp6(2),a.Q6J("ngIf",n.item.nbrBtl),a.xp6(1),a.Q6J("ngIf",!n.item.nbrBtl),a.xp6(1),a.Q6J("ngIf",n.item.nbrBtl)}}function C(n,t){if(1&n&&(a.TgZ(0,"div",8),a.TgZ(1,"ion-row",9),a.TgZ(2,"ion-col",10),a.TgZ(3,"div",11),a._uU(4,"name"),a.qZA(),a.qZA(),a.TgZ(5,"ion-col",10),a.TgZ(6,"div",11),a._uU(7,"price"),a.qZA(),a.qZA(),a.TgZ(8,"ion-col",12),a.TgZ(9,"div",11),a._uU(10,"Qty"),a.qZA(),a.qZA(),a.TgZ(11,"ion-col",12),a.TgZ(12,"div",11),a._uU(13,"Btl"),a.qZA(),a.qZA(),a.TgZ(14,"ion-col",12),a.TgZ(15,"div",11),a._uU(16,"T.price"),a.qZA(),a.qZA(),a.qZA(),a.YNc(17,v,15,7,"ion-row",13),a.qZA()),2&n){const n=a.oxw(2);a.xp6(17),a.Q6J("ngForOf",n.cart)}}function T(n,t){if(1&n){const n=a.EpF();a.TgZ(0,"ion-content"),a.TgZ(1,"ion-item"),a.TgZ(2,"ion-label"),a._uU(3,"choisir une date de livraison:"),a.qZA(),a.TgZ(4,"ion-datetime",6),a.NdJ("ionChange",function(t){return a.CHM(n),a.oxw().getLivraisonTime(t)}),a.qZA(),a.qZA(),a.YNc(5,C,18,1,"div",7),a.qZA()}if(2&n){const n=a.oxw();a.xp6(5),a.Q6J("ngIf",n.cart)}}const A=[{path:"",component:(()=>{class n{constructor(n,t,o,i,e,c){this.selectVendor=n,this.restApiService=t,this.loadingController=o,this.toastController=i,this.router=e,this.notif=c,this.isLoading=!1,this.cart=this.selectVendor.getCart(),this.vendor=this.selectVendor.getData(),console.log(this.cart),console.log(this.vendor),console.log(JSON.parse(localStorage.getItem("user")))}ngOnInit(){}changePrice(n,t){}getLivraisonTime(n){this.date=new Date(n.target.value)}sendCommande(){console.log(this.cart);let n=JSON.parse(localStorage.getItem("user")),t={retailerId:this.vendor.retailerId,vendorId:this.vendor.vendorId._id,commandes:this.cart,company:n[0].company,retailer:n};this.date?(t.dateLivraison=this.date,this.presentLoading2(),this.selectVendor.postOrder(t).subscribe(n=>{console.log(n),this.dismissLoading(),this.presentToast(),console.log(t),this.sendTofirebase(t),this.cart=null,setTimeout(()=>{this.router.navigateByUrl("/start")},500)}),console.log(t)):this.notif.presentToast("veillez choisir une heure pour livraison","danger")}sendTofirebase(n){console.log(n)}presentLoading2(){return(0,s.mG)(this,void 0,void 0,function*(){return this.isLoading=!0,yield this.loadingController.create({duration:8e3,message:"please wait ..."}).then(n=>{n.present().then(()=>{this.isLoading||n.dismiss().then()})})})}dismissLoading(){return(0,s.mG)(this,void 0,void 0,function*(){return this.isLoading=!1,yield this.loadingController.dismiss().then()})}presentToast(){return(0,s.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Votre commande a \xe9t\xe9 transmise",duration:5e3,position:"middle",color:"success"})).present()})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(d.A),a.Y36(g.e),a.Y36(c.HT),a.Y36(c.yF),a.Y36(r.F0),a.Y36(l.g))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-vendor-cart"]],decls:9,vars:1,consts:[["slot","start"],["defaultHref","/vendor-shop"],["slot","end"],["color","success","fill","clear","size","small",3,"click"],["slot","end","name","thumbs-up-outline"],[4,"ngIf"],["displayFormat","MMM DD, YYYY HH:mm","pickerFormat","MMM DD, YYYY HH:mm",3,"ionChange"],["class","contain",4,"ngIf"],[1,"contain"],[1,"header-row"],["size","3",1,"ion-align-self-center"],[1,"ion-text-center"],["size","2",1,"ion-align-self-center"],["class","data-row data-update",4,"ngFor","ngForOf"],[1,"data-row","data-update"],[1,"ion-text-center","commande"],["debounce","500","placeholder","price.",3,"value","ionChange",4,"ngIf"],["class","ion-text-center commande",4,"ngIf"],["size","2","class","ion-align-self-center",4,"ngIf"],["debounce","500","placeholder","price.",3,"value","ionChange"]],template:function(n,t){1&n&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar"),a.TgZ(2,"ion-buttons",0),a._UZ(3,"ion-back-button",1),a.qZA(),a.TgZ(4,"ion-buttons",2),a.TgZ(5,"ion-button",3),a.NdJ("click",function(){return t.sendCommande()}),a._uU(6," ok "),a._UZ(7,"ion-icon",4),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(8,T,6,1,"ion-content",5)),2&n&&(a.xp6(8),a.Q6J("ngIf",t.cart))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.YG,c.gu,i.O5,c.W2,c.Ie,c.Q$,c.x4,c.QI,c.Nd,c.wI,i.sg,c.pK,c.j9],pipes:[i.H9],styles:[".round[_ngcontent-%COMP%]{--width:3px;--height:3px;--vertical-align:middle;margin:5px;font-size:9px}.h3[_ngcontent-%COMP%]{text-transform:uppercase}.productname[_ngcontent-%COMP%]{background-color:#f1f1f1;font-size:10px}.montant[_ngcontent-%COMP%], .productname[_ngcontent-%COMP%]{font-weight:700}.divprod[_ngcontent-%COMP%]{width:100%}ion-col[_ngcontent-%COMP%]   .inte[_ngcontent-%COMP%]{font-size:9px}.data-lastrow[_ngcontent-%COMP%]{background-color:#f1f1f1}.data-lastrow[_ngcontent-%COMP%], .header-row[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.header-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:9px}.calcul[_ngcontent-%COMP%]{border:1px solid #f1f1f1}.pad[_ngcontent-%COMP%]{padding-top:15px}.header-row[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#000}.smalle[_ngcontent-%COMP%]{font-weight:700;font-size:15px;padding:5px}ion-input[_ngcontent-%COMP%]{--background:#f1f1f1;--padding-start:15px;--padding-end:15px;--padding-top:15px;--padding-bottom:15px;font-weight:700}ion-col[_ngcontent-%COMP%]   .commande[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{font-size:11px}ion-item[_ngcontent-%COMP%]{--background:#9ef052;--padding-start:10px;--padding-end:10px;--padding-top:10px;--padding-bottom:10px;margin-left:25px;margin-right:25px;font-weight:700}.contain[_ngcontent-%COMP%]{margin-top:10px}"]}),n})()}];let q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[r.Bz.forChild(A)],r.Bz]}),n})(),_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[i.ez,e.u5,c.Pc,q]]}),n})()}}]);