(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[5918],{5918:(e,i,t)=>{"use strict";t.r(i),t.d(i,{ManagerRefuelingPageModule:()=>S});var n=t(1511),o=t(6073),r=t(8158),s=t(8777),a=t(4762),c=t(1572),g=t(731),u=t(1064),l=t(2874),Z=t(6365),f=t(4375),d=t(1044);const p=function(e){return{"background-color":e}};function h(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"ion-row",9),c.TgZ(1,"ion-col",5),c.TgZ(2,"div",10),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"ion-col",5),c.TgZ(5,"div",11),c._uU(6),c.qZA(),c.qZA(),c.TgZ(7,"ion-col",5),c.TgZ(8,"div",12),c._uU(9),c.ALo(10,"date"),c.qZA(),c.qZA(),c.TgZ(11,"ion-col",5),c.TgZ(12,"div",11),c.TgZ(13,"ion-button",13),c.NdJ("click",function(){c.CHM(e);const t=i.$implicit;return c.oxw(2).confirmRefueling(t)}),c._uU(14,"confirm"),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=i.$implicit;c.Q6J("ngStyle",c.VKq(7,p,i.index%2==0?"#f1f1f1":"white")),c.xp6(3),c.hij(" ",e.name," "),c.xp6(3),c.hij(" ",e.newquantity," "),c.xp6(3),c.hij(" ",c.xi3(10,4,e.created,"medium")," ")}}function m(e,i){if(1&e&&(c.TgZ(0,"ion-grid"),c.TgZ(1,"ion-row",4),c.TgZ(2,"ion-col",5),c.TgZ(3,"div",6),c._uU(4,"name"),c.qZA(),c.qZA(),c.TgZ(5,"ion-col",5),c.TgZ(6,"div",6),c._uU(7,"Quantity"),c.qZA(),c.qZA(),c.TgZ(8,"ion-col",5),c.TgZ(9,"div",6),c._uU(10,"Date"),c.qZA(),c.qZA(),c.TgZ(11,"ion-col",7),c._UZ(12,"div",6),c.qZA(),c.qZA(),c.YNc(13,h,15,9,"ion-row",8),c.qZA()),2&e){const e=c.oxw();c.xp6(13),c.Q6J("ngForOf",e.RefuelingList)}}function q(e,i){if(1&e&&(c.TgZ(0,"ion-row",9),c.TgZ(1,"ion-col",5),c.TgZ(2,"div",17),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"ion-col",5),c.TgZ(5,"div",18),c._uU(6),c.qZA(),c.qZA(),c.TgZ(7,"ion-col",5),c.TgZ(8,"div",12),c._uU(9),c.ALo(10,"date"),c.qZA(),c.qZA(),c.TgZ(11,"ion-col",19),c.TgZ(12,"div",18),c._uU(13),c.qZA(),c.qZA(),c.qZA()),2&e){const e=i.$implicit;c.Q6J("ngStyle",c.VKq(9,p,i.index%2==0?"#f1f1f1":"white")),c.xp6(3),c.hij(" ",e.name," "),c.xp6(3),c.hij(" ",e.newquantity," "),c.xp6(3),c.hij(" ",c.xi3(10,6,e.created,"medium")," "),c.xp6(2),c.Q6J("ngStyle",c.VKq(11,p,e.confirm?"var(--ion-color-success)":"var(--ion-color-danger)")),c.xp6(2),c.hij(" ",e.confirm?"ok":"waiting..."," ")}}function A(e,i){if(1&e&&(c.TgZ(0,"ion-slide"),c.TgZ(1,"ion-grid"),c.TgZ(2,"ion-row"),c.TgZ(3,"ion-col"),c.TgZ(4,"div",16),c.TgZ(5,"h4"),c._uU(6),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"ion-row",4),c.TgZ(8,"ion-col",5),c.TgZ(9,"div",6),c._uU(10,"name"),c.qZA(),c.qZA(),c.TgZ(11,"ion-col",5),c.TgZ(12,"div",6),c._uU(13),c.ALo(14,"translate"),c.qZA(),c.qZA(),c.TgZ(15,"ion-col",5),c.TgZ(16,"div",6),c._uU(17,"Date"),c.qZA(),c.qZA(),c.TgZ(18,"ion-col",7),c.TgZ(19,"div",6),c._uU(20),c.ALo(21,"translate"),c.qZA(),c.qZA(),c.qZA(),c.YNc(22,q,14,13,"ion-row",8),c.qZA(),c.qZA()),2&e){const e=i.$implicit;c.xp6(6),c.hij(" store ",e.storeName?e.storeName:"no name"," "),c.xp6(7),c.Oqu(c.lcZ(14,4,"MENU.quantity")),c.xp6(7),c.Oqu(c.lcZ(21,6,"MENU.status")),c.xp6(2),c.Q6J("ngForOf",e)}}function T(e,i){if(1&e&&(c.TgZ(0,"ion-slides",14),c.YNc(1,A,23,8,"ion-slide",15),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",e.productListTab)}}const x=[{path:"",component:(()=>{class e{constructor(e,i,t,n,o,r){this.translateConfigService=e,this.translate=i,this.notifi=t,this.refueling=n,this.saveRandom=o,this.rangeByStoreService=r,this.RefuelingList=[],this.isSuperManager=!1}ngOnInit(){this.languageChanged(),this.getRefueling()}languageChanged(){let e=localStorage.getItem("language");e&&this.translateConfigService.setLanguage(e)}getRefueling(){this.saveRandom.getSuperManager()?(this.isSuperManager=!0,this.refueling.superManagerRefueling().subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){this.productListTab=yield this.rangeByStoreService.rangeProductByStore(e)}))):this.refueling.managerGetRefueling().subscribe(e=>{this.RefuelingList=e})}confirmRefueling(e){let i={};this.translate.get("MENU.confirmtransaction").subscribe(e=>{i.confirm=e}),this.translate.get("MENU.cancel").subscribe(e=>{i.cancel=e}),this.translate.get("MENU.ok").subscribe(e=>{i.ok=e}),this.translate.get("MENU.no").subscribe(e=>{i.no=e}),this.notifi.presentAlertConfirm(i.confirm,i.ok,i.no).then(i=>{this.notifi.presentLoading(),this.refueling.managerConfirmRefueling(e).subscribe(i=>{this.RefuelingList=this.RefuelingList.filter(i=>i._id!==e._id),this.notifi.dismissLoading()})})}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(g.w),c.Y36(u.sK),c.Y36(l.g),c.Y36(Z.F),c.Y36(f.i),c.Y36(d.n))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-manager-refueling"]],decls:7,vars:2,consts:[["slot","start"],["defaultHref","/start"],[4,"ngIf"],["pager","true",4,"ngIf"],[1,"header-component"],["size","3"],[1,"ion-text-center"],["size-sm","3","size-md","3","size-lg","3"],["class","data-row data-update",3,"ngStyle",4,"ngFor","ngForOf"],[1,"data-row","data-update",3,"ngStyle"],[1,"ion-text-start","ion-text-uppercase","smallSize"],[1,"ion-text-center","ion-text-uppercase","smallSize"],[1,"ion-text-center","ion-text-uppercase",2,"font-size","12px"],["size","small",2,"font-size","9px",3,"click"],["pager","true"],[4,"ngFor","ngForOf"],[1,"ion-text-center","ion-text-uppercase"],[1,"ion-text-start","ion-text-uppercase","smallSize",2,"font-size","12px"],[1,"ion-text-center","ion-text-uppercase","smallSize",2,"font-size","12px"],["size","3",3,"ngStyle"]],template:function(e,i){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-buttons",0),c._UZ(3,"ion-back-button",1),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"ion-content"),c.YNc(5,m,14,1,"ion-grid",2),c.YNc(6,T,2,1,"ion-slides",3),c.qZA()),2&e&&(c.xp6(5),c.Q6J("ngIf",!i.isSuperManager),c.xp6(1),c.Q6J("ngIf",i.isSuperManager))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.W2,n.O5,r.jY,r.Nd,r.wI,n.sg,n.PC,r.YG,r.Hr,r.A$],pipes:[n.uU,u.X$],styles:[""]}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Bz.forChild(x)],s.Bz]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[n.ez,o.u5,r.Pc,v,u.aw.forChild()]]}),e})()},1044:(e,i,t)=>{"use strict";t.d(i,{n:()=>s});var n=t(4762),o=t(1572),r=t(9719);let s=(()=>{class e{constructor(e){this.getStoreName=e}rangeProductByStore(e){return new Promise((i,t)=>{let o=e.reduce((e,i)=>(e[i.storeId]=[...e[i.storeId]||[],i],e),{}),r=[];for(const e in o)r.push(o[e]);r.forEach(e=>(0,n.mG)(this,void 0,void 0,function*(){let i=yield this.getStoreName.takeName(e);e.storeName=i})),i(r)})}}return e.\u0275fac=function(i){return new(i||e)(o.LFG(r.$))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);