(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[8770],{8770:(t,o,n)=>{"use strict";n.r(o),n.d(o,{UserContratPageModule:()=>q});var e=n(1511),i=n(6073),c=n(8158),r=n(8777),s=n(4762),a=n(5340),l=n(1572),d=n(4375),u=n(6259),Z=n(4892);const g=function(t){return{"background-color":t}},p=function(t){return[t,"FCFA","symbol","3.0-0","fr"]};function h(t,o){if(1&t){const t=l.EpF();l.TgZ(0,"ion-row",10),l.TgZ(1,"ion-col",7),l.TgZ(2,"div",5),l._uU(3),l.ALo(4,"date"),l.qZA(),l.qZA(),l.TgZ(5,"ion-col",7),l.TgZ(6,"div",5),l._uU(7),l.ALo(8,"currency"),l.qZA(),l.qZA(),l.TgZ(9,"ion-col",7),l.TgZ(10,"div",5),l._uU(11),l.ALo(12,"date"),l.qZA(),l.qZA(),l.TgZ(13,"ion-col",7),l.TgZ(14,"div",5),l.TgZ(15,"ion-button",3),l.NdJ("click",function(){l.CHM(t);const n=o.$implicit;return l.oxw().updateContrat(n)}),l._UZ(16,"ion-icon",4),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=o.$implicit;l.Q6J("ngStyle",l.VKq(14,g,o.index%2==0?"#f1f1f1":"white")),l.xp6(3),l.hij(" ",l.lcZ(4,4,t.startAt)," "),l.xp6(4),l.hij(" ",l.G7q(8,6,l.VKq(16,p,t.montant))," "),l.xp6(4),l.hij(" ",l.lcZ(12,12,t.endAt)," ")}}const m=[{path:"",component:(()=>{class t{constructor(t,o,n,e,i){this.randomStorage=t,this.modal=o,this.contratService=n,this.socket=e,this.router=i,this.contratList=[]}ngOnInit(){this.admin=this.randomStorage.getUserAdmin(),console.log(this.admin.company),this.getContrat(),this.webServerSocket()}createdContrat(){return(0,s.mG)(this,void 0,void 0,function*(){const t=yield this.modal.create({component:a.M,componentProps:{}});return t.onDidDismiss().then(t=>{console.log(t)}),yield t.present()})}getContrat(){this.contratService.getContrat(this.admin._id).subscribe(t=>{console.log("contrat",t),this.contratList=t})}webServerSocket(){console.log("hello hello"),this.socket.connect(),this.socket.emit("set-name",name),this.socket.fromEvent("contrat").subscribe(t=>{console.log("contrat ",t)}),this.socket.fromEvent("update_contrat").subscribe(t=>{let o=this.contratList.findIndex(o=>o._id==t._id);o>=0&&this.contratList.splice(o,1,t)}),this.socket.fromEvent("requestIn").subscribe(t=>{console.log("Incomming",t)})}updateContrat(t){console.log(t),this.randomStorage.setContrat(t),this.router.navigateByUrl("update-contrat")}}return t.\u0275fac=function(o){return new(o||t)(l.Y36(d.i),l.Y36(c.IN),l.Y36(u.H),l.Y36(Z.sk),l.Y36(r.F0))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-user-contrat"]],decls:27,vars:2,consts:[["slot","start"],["defaultHref","/start"],["slot","end",1,"btnend"],[3,"click"],["slot","icon-only","name","add-circle-outline"],[1,"ion-text-center","ion-text-uppercase"],[1,"header-component"],["size","3"],[1,"ion-text-center"],["class","data-row data-update",3,"ngStyle",4,"ngFor","ngForOf"],[1,"data-row","data-update",3,"ngStyle"]],template:function(t,o){1&t&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar"),l._UZ(2,"ion-title"),l.TgZ(3,"ion-buttons",0),l._UZ(4,"ion-back-button",1),l.qZA(),l.TgZ(5,"ion-buttons",2),l.TgZ(6,"ion-button",3),l.NdJ("click",function(){return o.createdContrat()}),l._UZ(7,"ion-icon",4),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"ion-content"),l.TgZ(9,"ion-grid"),l.TgZ(10,"ion-row"),l.TgZ(11,"ion-col"),l.TgZ(12,"div",5),l._uU(13),l.qZA(),l.qZA(),l.qZA(),l.TgZ(14,"ion-row",6),l.TgZ(15,"ion-col",7),l.TgZ(16,"div",8),l._uU(17,"Start At"),l.qZA(),l.qZA(),l.TgZ(18,"ion-col",7),l.TgZ(19,"div",8),l._uU(20,"Montant"),l.qZA(),l.qZA(),l.TgZ(21,"ion-col",7),l.TgZ(22,"div",8),l._uU(23,"End At"),l.qZA(),l.qZA(),l.TgZ(24,"ion-col",7),l._UZ(25,"div",8),l.qZA(),l.qZA(),l.YNc(26,h,17,18,"ion-row",9),l.qZA(),l.qZA()),2&t&&(l.xp6(13),l.hij(" paiements ",o.admin.company," "),l.xp6(13),l.Q6J("ngForOf",o.contratList))},directives:[c.Gu,c.sr,c.wd,c.Sm,c.oU,c.cs,c.YG,c.gu,c.W2,c.jY,c.Nd,c.wI,e.sg,e.PC],pipes:[e.uU,e.H9],styles:[""]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[r.Bz.forChild(m)],r.Bz]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[e.ez,i.u5,c.Pc,A]]}),t})()}}]);