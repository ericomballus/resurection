(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[18],{18:(e,i,t)=>{"use strict";t.r(i),t.d(i,{AdminProductsAddPageModule:()=>h});var n=t(1511),o=t(6073),a=t(8777),r=t(8158),s=t(4762),l=t(1572),d=t(5897),c=t(3575),u=t(4144);function g(e,i){if(1&e&&(l.TgZ(0,"ion-card"),l._UZ(1,"img",24),l.qZA()),2&e){const e=l.oxw();l.xp6(1),l.Q6J("src",e.url,l.LSH)}}function p(e,i){if(1&e&&(l.TgZ(0,"ion-select-option",25),l._uU(1),l.qZA()),2&e){const e=i.$implicit;l.s9C("value",e._id),l.xp6(1),l.Oqu(e.name)}}function m(e,i){if(1&e&&(l.TgZ(0,"ion-select-option",25),l._uU(1),l.qZA()),2&e){const e=i.$implicit;l.s9C("value",e._id),l.xp6(1),l.Oqu(e.name)}}const Z=[{path:"",component:(()=>{class e{constructor(e,i,t,n,o,a){this.categorieSerice=e,this.madebyService=i,this.restApi=t,this.modalController=n,this.toastController=o,this.loadingController=a,this.getMade(),this.getCategories(),this.takeMaeriProducts()}ngOnInit(){}getCategories(){this.categorieSerice.getMarieCategories().subscribe(e=>{console.log(e),this.categorys=e.category})}getMade(){this.madebyService.getMarieMadeby().subscribe(e=>{console.log(e),this.mades=e.madeby})}test(e){console.log(e),console.log(e.target.value),this.productId=e.target.value,this.categorystab=this.categorys.filter(e=>e._id===this.productId)[0],console.log(this.categorystab)}made(e){this.madeselect=this.mades.filter(i=>i._id===e.target.value)[0].name}readUrl(e){if(this.file=e.target.files[0],e.target.files&&e.target.files[0]){var i=new FileReader;i.onload=e=>{this.url=e.target.result},i.readAsDataURL(e.target.files[0])}}register(e){return(0,s.mG)(this,void 0,void 0,function*(){console.log(e.value),this.presentLoading();var i=new FormData;yield i.append("produceBy",this.madeselect),yield i.append("categoryId",this.categorystab._id),yield i.append("categoryName",this.categorystab.name),yield i.append("name",e.value.name),yield i.append("capacity",e.value.capacity),yield i.append("purchasingPrice",e.value.purchasingPrice),yield i.append("sellingPrice",e.value.sellingPrice),yield i.append("description",e.value.description),yield i.append("packSize",e.value.packSize),yield i.append("packPrice",e.value.packPrice),yield i.append("ristourne",e.value.ristourne),e.value.sizeUnit&&(yield i.append("sizeUnit",e.value.sizeUnit)),this.unitName&&(yield i.append("unitName",this.unitName)),yield i.append("image",this.file),console.log("formData here",i),this.restApi.addMaeriProduct(i).subscribe(i=>{console.log(i),e.reset(),this.dismissLoading(),this.presentToast()})})}takeMaeriProducts(){this.restApi.getMaeriProduct().subscribe(e=>{console.log(e)})}presentLoading(){return(0,s.mG)(this,void 0,void 0,function*(){return this.isLoading=!0,yield this.loadingController.create({duration:6e3}).then(e=>{e.present().then(()=>{this.isLoading||e.dismiss().then(()=>console.log("abort presenting"))})})})}dismissLoading(){return(0,s.mG)(this,void 0,void 0,function*(){return this.isLoading=!1,yield this.loadingController.dismiss().then(()=>console.log("dismissed"))})}presentToast(){return(0,s.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"product have been save.",duration:2e3,position:"top",animated:!0,cssClass:"my-custom-class"})).present()})}unitMeasure(e){this.unitName=e.target.value}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(d.q),l.Y36(c.J),l.Y36(u.e),l.Y36(r.IN),l.Y36(r.yF),l.Y36(r.HT))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-admin-products-add"]],decls:57,vars:4,consts:[["slot","start"],["defaultHref","/admin-products"],[4,"ngIf"],[3,"ngSubmit"],["form","ngForm"],["color","primary","justify-content-center",""],["align-self-center","","size-md","6","size-lg","5","size-xs","12"],["padding",""],["interface","popover",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["name","name","type","text","placeholder","Name","ngModel","","required",""],["position","floating"],["name","sizeUnit","type","number","placeholder","size","ngModel","","required",""],["value","g"],["value","kg"],["value","cl"],["value","l"],["name","purchasingPrice","type","number","placeholder","prix d'achat","ngModel","","required",""],["name","sellingPrice","type","number","placeholder","prix de vente","ngModel","","required",""],["name","packSize","type","number","placeholder","pack siize","ngModel","","required",""],["name","packPrice","type","number","placeholder","pack price","ngModel","","required",""],["name","ristourne","type","number","placeholder","pack ristourne","ngModel","","required",""],["name","image","type","file","ngModel","","required","",3,"change"],["color","danger","size","large","type","submit","expand","block",3,"disabled"],[3,"src"],[3,"value"]],template:function(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-buttons",0),l._UZ(3,"ion-back-button",1),l.qZA(),l.TgZ(4,"ion-title"),l._uU(5,"admin-products-add"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-content"),l.YNc(7,g,2,1,"ion-card",2),l.TgZ(8,"form",3,4),l.NdJ("ngSubmit",function(){l.CHM(e);const t=l.MAs(9);return i.register(t)}),l.TgZ(10,"ion-grid"),l.TgZ(11,"ion-row",5),l.TgZ(12,"ion-col",6),l.TgZ(13,"div",7),l.TgZ(14,"ion-item"),l.TgZ(15,"ion-label"),l._uU(16,"Category"),l.qZA(),l.TgZ(17,"ion-select",8),l.NdJ("ionChange",function(e){return i.test(e)}),l.YNc(18,p,2,2,"ion-select-option",9),l.qZA(),l.qZA(),l.TgZ(19,"ion-item"),l.TgZ(20,"ion-label"),l._uU(21,"Made By"),l.qZA(),l.TgZ(22,"ion-select",8),l.NdJ("ionChange",function(e){return i.made(e)}),l.YNc(23,m,2,2,"ion-select-option",9),l.qZA(),l.qZA(),l.TgZ(24,"ion-item"),l._UZ(25,"ion-input",10),l.qZA(),l.TgZ(26,"ion-item"),l.TgZ(27,"ion-label",11),l._uU(28,"Size"),l.qZA(),l._UZ(29,"ion-input",12),l.qZA(),l.TgZ(30,"ion-item"),l.TgZ(31,"ion-label"),l._uU(32,"choose unit"),l.qZA(),l.TgZ(33,"ion-select",8),l.NdJ("ionChange",function(e){return i.unitMeasure(e)}),l.TgZ(34,"ion-select-option",13),l._uU(35,"g"),l.qZA(),l.TgZ(36,"ion-select-option",14),l._uU(37,"kg"),l.qZA(),l.TgZ(38,"ion-select-option",15),l._uU(39,"cl"),l.qZA(),l.TgZ(40,"ion-select-option",16),l._uU(41,"l"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(42,"ion-item"),l._UZ(43,"ion-input",17),l.qZA(),l.TgZ(44,"ion-item"),l._UZ(45,"ion-input",18),l.qZA(),l.TgZ(46,"ion-item"),l._UZ(47,"ion-input",19),l.qZA(),l.TgZ(48,"ion-item"),l._UZ(49,"ion-input",20),l.qZA(),l.TgZ(50,"ion-item"),l._UZ(51,"ion-input",21),l.qZA(),l.TgZ(52,"ion-item"),l.TgZ(53,"ion-input",22),l.NdJ("change",function(e){return i.readUrl(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(54,"div",7),l.TgZ(55,"ion-button",23),l._uU(56,"Register"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.MAs(9);l.xp6(7),l.Q6J("ngIf",i.url),l.xp6(11),l.Q6J("ngForOf",i.categorys),l.xp6(5),l.Q6J("ngForOf",i.mades),l.xp6(32),l.Q6J("disabled",!e.valid||!i.unitName)}},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.W2,n.O5,o.Y7,o.JL,o.F,r.jY,r.Nd,r.wI,r.Ie,r.Q$,r.t9,r.QI,n.sg,r.pK,r.j9,o.JJ,o.On,o.Q7,r.as,r.n0,r.YG,r.PM],styles:[""]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[n.ez,o.u5,r.Pc,a.Bz.forChild(Z)]]}),e})()}}]);