(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[5075],{5075:(i,e,t)=>{"use strict";t.d(e,{j:()=>L});var n=t(4762),o=t(1572),s=t(4144),r=t(3437),c=t(8158),a=t(8777),l=t(4892),d=t(1044),g=t(2874),u=t(9719),p=t(4375),h=t(1511),m=t(6073),Z=t(1064);const f=["mySlider"];function b(i,e){if(1&i&&(o.TgZ(0,"ion-segment-button",5),o._uU(1),o.qZA()),2&i){const i=e.$implicit;o.s9C("value",i),o.xp6(1),o.hij(" ",i," ")}}function A(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-segment",3),o.NdJ("ionChange",function(e){return o.CHM(i),o.oxw().segmentChanged(e)})("ngModelChange",function(e){return o.CHM(i),o.oxw().pet=e}),o.YNc(1,b,2,2,"ion-segment-button",4),o.qZA()}if(2&i){const i=o.oxw();o.s9C("value",i.pet),o.Q6J("ngModel",i.pet),o.xp6(1),o.Q6J("ngForOf",i.storeTypeTab)}}function q(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"div",12),o.TgZ(1,"div",13),o.TgZ(2,"p"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"div",14),o.TgZ(7,"ion-input",15),o.NdJ("ngModelChange",function(i){return e.$implicit.myValue=i})("ionChange",function(t){o.CHM(i);const n=e.$implicit;return o.oxw(4).getValue(t,n)}),o.qZA(),o.qZA(),o.TgZ(8,"div",14),o.TgZ(9,"ion-input",16),o.NdJ("ngModelChange",function(i){return e.$implicit.nbrBtl=i})("ionChange",function(t){o.CHM(i);const n=e.$implicit;return o.oxw(4).getValueBtl(t,n)}),o.qZA(),o.qZA(),o.TgZ(10,"div",14),o.TgZ(11,"ion-input",17),o.NdJ("ionChange",function(t){o.CHM(i);const n=e.$implicit;return o.oxw(4).changePrice(t,n)}),o.qZA(),o.qZA(),o.qZA()}if(2&i){const i=e.$implicit,t=o.oxw(4);o.xp6(3),o.lnq(" ",i.name," ",i.sizeUnitProduct," ",i.unitNameProduct,""),o.xp6(2),o.hij(" ",i.sizePack," BTLs "),o.xp6(2),o.Q6J("ngModel",i.myValue),o.xp6(2),o.Q6J("ngModel",i.nbrBtl),o.xp6(2),o.MGl("placeholder","",i.nbrCassier&&i.nbrBtl?i.nbrCassier*i.packPrice+i.nbrBtl*i.purchasingPrice:i.qty?i.qty*i.prix:!i.nbrCassier&&i.nbrBtl?i.nbrBtl*i.purchasingPrice:0," Fcfa"),o.Q6J("disabled",!t.randomObj[i._id])}}function T(i,e){if(1&i&&(o.TgZ(0,"div",10),o.YNc(1,q,12,8,"div",11),o.qZA()),2&i){const i=o.oxw().$implicit;o.xp6(1),o.Q6J("ngForOf",i)}}function x(i,e){if(1&i&&(o.TgZ(0,"ion-slide"),o.TgZ(1,"ion-grid"),o.TgZ(2,"ion-row"),o.TgZ(3,"ion-col"),o.TgZ(4,"div",8),o.TgZ(5,"h4"),o._uU(6),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(7,T,2,1,"div",9),o.qZA(),o.qZA()),2&i){const i=e.$implicit;o.xp6(6),o.hij("store ",i.storeName?i.storeName:"no name",""),o.xp6(1),o.Q6J("ngIf",i)}}function P(i,e){if(1&i&&(o.TgZ(0,"ion-slides",6),o.YNc(1,x,8,2,"ion-slide",7),o.qZA()),2&i){const i=o.oxw();o.xp6(1),o.Q6J("ngForOf",i.multiStoreProductitem)}}function v(i,e){1&i&&(o.TgZ(0,"div"),o.TgZ(1,"ion-grid"),o.TgZ(2,"ion-row"),o.TgZ(3,"ion-col"),o.TgZ(4,"ion-col"),o.TgZ(5,"div",8),o.TgZ(6,"h4"),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&i&&(o.xp6(7),o.Oqu(o.lcZ(8,1,"MENU.notfound")))}function O(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-input",17),o.NdJ("ionChange",function(e){o.CHM(i);const t=o.oxw().$implicit;return o.oxw(3).changePrice(e,t)}),o.qZA()}if(2&i){const i=o.oxw().$implicit,e=o.oxw(3);o.MGl("placeholder","prix unitaire ",i.purchasingPrice?i.purchasingPrice:0,"  Fcfa"),o.Q6J("disabled",!e.randomObj[i._id])}}function C(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-input",17),o.NdJ("ionChange",function(e){o.CHM(i);const t=o.oxw().$implicit;return o.oxw(3).changePrice(e,t)}),o.qZA()}if(2&i){const i=o.oxw().$implicit,e=o.oxw(3);o.MGl("placeholder","",i.purchasingPrice?i.purchasingPrice*i.qty:0,"Fcfa"),o.Q6J("disabled",!e.randomObj[i._id])}}function w(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-item",10),o.TgZ(1,"ion-input",21),o.NdJ("ionChange",function(t){o.CHM(i);const n=e.$implicit;return o.oxw(3).getValueResto(t,n)}),o.qZA(),o.YNc(2,O,1,2,"ion-input",22),o.YNc(3,C,1,2,"ion-input",22),o.TgZ(4,"ion-label"),o.TgZ(5,"small"),o._uU(6),o.qZA(),o.qZA(),o.qZA()}if(2&i){const i=e.$implicit;o.xp6(2),o.Q6J("ngIf",!i.qty),o.xp6(1),o.Q6J("ngIf",i.qty),o.xp6(3),o.Oqu(i.name)}}function I(i,e){if(1&i&&(o.TgZ(0,"ion-slide"),o.TgZ(1,"ion-grid"),o.TgZ(2,"ion-row"),o.TgZ(3,"ion-col"),o.TgZ(4,"div",8),o.TgZ(5,"h4"),o._uU(6),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"div",18),o.TgZ(8,"ion-list",19),o.YNc(9,w,7,3,"ion-item",20),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&i){const i=e.$implicit,t=o.oxw(2);o.xp6(6),o.hij(" ",i.storeName?i.storeName:"no name"," "),o.xp6(2),o.Q6J("hidden",!t.btnResource),o.xp6(1),o.Q6J("ngForOf",i)}}function N(i,e){if(1&i&&(o.TgZ(0,"ion-slides",6),o.YNc(1,I,10,3,"ion-slide",7),o.qZA()),2&i){const i=o.oxw();o.xp6(1),o.Q6J("ngForOf",i.multiStoreResource)}}function y(i,e){1&i&&(o.TgZ(0,"div"),o.TgZ(1,"ion-grid"),o.TgZ(2,"ion-row"),o.TgZ(3,"ion-col"),o.TgZ(4,"ion-col"),o.TgZ(5,"div",8),o.TgZ(6,"h4"),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&i&&(o.xp6(7),o.Oqu(o.lcZ(8,1,"MENU.notfound")))}function j(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-input",17),o.NdJ("ionChange",function(e){o.CHM(i);const t=o.oxw().$implicit;return o.oxw(3).changePrice(e,t)}),o.qZA()}if(2&i){const i=o.oxw().$implicit,e=o.oxw(3);o.MGl("placeholder","prix unitaire ",i.retailerPrice?i.retailerPrice:0,"  Fcfa"),o.Q6J("disabled",e.isRetailer)}}function k(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-input",17),o.NdJ("ionChange",function(e){o.CHM(i);const t=o.oxw().$implicit;return o.oxw(3).changePrice(e,t)}),o.qZA()}if(2&i){const i=o.oxw().$implicit,e=o.oxw(3);o.MGl("placeholder","prix unitaire ",i.purchasingPrice?i.purchasingPrice:0,"  Fcfa"),o.Q6J("disabled",!e.randomObj[i._id])}}function M(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-input",17),o.NdJ("ionChange",function(e){o.CHM(i);const t=o.oxw().$implicit;return o.oxw(3).changePrice(e,t)}),o.qZA()}if(2&i){const i=o.oxw().$implicit,e=o.oxw(3);o.MGl("placeholder","",i.purchasingPrice?i.purchasingPrice*i.qty:0,"Fcfa"),o.Q6J("disabled",!e.randomObj[i._id])}}function J(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-item",10),o.TgZ(1,"ion-input",23),o.NdJ("ngModelChange",function(i){return e.$implicit.fisrtValueAdd=i})("ionChange",function(t){o.CHM(i);const n=e.$implicit;return o.oxw(3).getValueResto(t,n)}),o.qZA(),o.YNc(2,j,1,2,"ion-input",22),o.YNc(3,k,1,2,"ion-input",22),o.YNc(4,M,1,2,"ion-input",22),o.TgZ(5,"ion-label"),o.TgZ(6,"small"),o._uU(7),o.qZA(),o.qZA(),o.qZA()}if(2&i){const i=e.$implicit,t=o.oxw(3);o.xp6(1),o.Q6J("ngModel",i.fisrtValueAdd),o.xp6(1),o.Q6J("ngIf",t.isRetailer),o.xp6(1),o.Q6J("ngIf",!i.qty&&!t.isRetailer),o.xp6(1),o.Q6J("ngIf",i.qty&&!t.isRetailer),o.xp6(3),o.Oqu(i.name)}}function Q(i,e){if(1&i&&(o.TgZ(0,"ion-slide"),o.TgZ(1,"ion-grid"),o.TgZ(2,"ion-row"),o.TgZ(3,"ion-col"),o.TgZ(4,"div",8),o.TgZ(5,"h4"),o._uU(6),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"div",18),o.TgZ(8,"ion-list",10),o.YNc(9,J,8,5,"ion-item",20),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&i){const i=e.$implicit;o.xp6(6),o.hij(" ",i.storeName?i.storeName:"no name"," "),o.xp6(3),o.Q6J("ngForOf",i)}}function _(i,e){if(1&i&&(o.TgZ(0,"ion-slides",6),o.YNc(1,Q,10,2,"ion-slide",7),o.qZA()),2&i){const i=o.oxw();o.xp6(1),o.Q6J("ngForOf",i.multiStoreService)}}function S(i,e){1&i&&(o.TgZ(0,"div"),o.TgZ(1,"ion-grid"),o.TgZ(2,"ion-row"),o.TgZ(3,"ion-col"),o.TgZ(4,"ion-col"),o.TgZ(5,"div",8),o.TgZ(6,"h4"),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&i&&(o.xp6(7),o.Oqu(o.lcZ(8,1,"MENU.notfound")))}function Y(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-item",10),o.TgZ(1,"ion-input",23),o.NdJ("ngModelChange",function(i){return e.$implicit.fisrtValueAdd=i})("ionChange",function(t){o.CHM(i);const n=e.$implicit;return o.oxw(3).getValueResto(t,n)}),o.qZA(),o.TgZ(2,"ion-input",17),o.NdJ("ionChange",function(t){o.CHM(i);const n=e.$implicit;return o.oxw(3).changePrice(t,n)}),o.qZA(),o.TgZ(3,"ion-label"),o.TgZ(4,"small"),o._uU(5),o.qZA(),o.qZA(),o.qZA()}if(2&i){const i=e.$implicit,t=o.oxw(3);o.xp6(1),o.Q6J("ngModel",i.fisrtValueAdd),o.xp6(1),o.MGl("placeholder","",i.purchasingPrice?i.purchasingPrice*i.qty:0,"Fcfa"),o.Q6J("disabled",!t.randomObj[i._id]),o.xp6(3),o.Oqu(i.name)}}function $(i,e){if(1&i&&(o.TgZ(0,"ion-slide"),o.TgZ(1,"ion-grid"),o.TgZ(2,"ion-row"),o.TgZ(3,"ion-col"),o.TgZ(4,"div",8),o.TgZ(5,"h4"),o._uU(6),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"div",18),o.TgZ(8,"ion-list",10),o.YNc(9,Y,6,4,"ion-item",20),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&i){const i=e.$implicit;o.xp6(6),o.hij(" ",i.storeName?i.storeName:"no name"," "),o.xp6(3),o.Q6J("ngForOf",i)}}function F(i,e){if(1&i&&(o.TgZ(0,"ion-slides",6),o.YNc(1,$,10,2,"ion-slide",7),o.qZA()),2&i){const i=o.oxw();o.xp6(1),o.Q6J("ngForOf",i.multiStoreList)}}function R(i,e){1&i&&(o.TgZ(0,"div"),o.TgZ(1,"ion-grid"),o.TgZ(2,"ion-row"),o.TgZ(3,"ion-col"),o.TgZ(4,"ion-col"),o.TgZ(5,"div",8),o.TgZ(6,"h4"),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&i&&(o.xp6(7),o.Oqu(o.lcZ(8,1,"MENU.notfound")))}function V(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-input",17),o.NdJ("ionChange",function(e){o.CHM(i);const t=o.oxw().$implicit;return o.oxw(3).changePrice(e,t)}),o.qZA()}if(2&i){const i=o.oxw().$implicit,e=o.oxw(3);o.MGl("placeholder","prix unitaire ",i.purchasingPrice?i.purchasingPrice:0,"  Fcfa"),o.Q6J("disabled",!e.randomObj[i._id])}}function B(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-input",17),o.NdJ("ionChange",function(e){o.CHM(i);const t=o.oxw().$implicit;return o.oxw(3).changePrice(e,t)}),o.qZA()}if(2&i){const i=o.oxw().$implicit,e=o.oxw(3);o.MGl("placeholder","",i.purchasingPrice?i.purchasingPrice*i.qty:0,"Fcfa"),o.Q6J("disabled",!e.randomObj[i._id])}}function H(i,e){if(1&i){const i=o.EpF();o.TgZ(0,"ion-item",10),o.TgZ(1,"ion-input",23),o.NdJ("ngModelChange",function(i){return e.$implicit.fisrtValueAdd=i})("ionChange",function(t){o.CHM(i);const n=e.$implicit;return o.oxw(3).getValueResto(t,n)}),o.qZA(),o.YNc(2,V,1,2,"ion-input",22),o.YNc(3,B,1,2,"ion-input",22),o.TgZ(4,"ion-label"),o.TgZ(5,"small"),o._uU(6),o.qZA(),o.qZA(),o.qZA()}if(2&i){const i=e.$implicit;o.xp6(1),o.Q6J("ngModel",i.fisrtValueAdd),o.xp6(1),o.Q6J("ngIf",!i.qty),o.xp6(1),o.Q6J("ngIf",i.qty),o.xp6(3),o.Oqu(i.name)}}function U(i,e){if(1&i&&(o.TgZ(0,"ion-slide"),o.TgZ(1,"ion-grid"),o.TgZ(2,"ion-row"),o.TgZ(3,"ion-col"),o.TgZ(4,"div",8),o.TgZ(5,"h4"),o._uU(6),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"div",18),o.TgZ(8,"ion-list",10),o.YNc(9,H,7,4,"ion-item",20),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&i){const i=e.$implicit;o.xp6(6),o.hij(" ",i.storeName?i.storeName:"no name"," "),o.xp6(3),o.Q6J("ngForOf",i)}}function E(i,e){if(1&i&&(o.TgZ(0,"ion-slides",6),o.YNc(1,U,10,2,"ion-slide",7),o.qZA()),2&i){const i=o.oxw();o.xp6(1),o.Q6J("ngForOf",i.multiStoreResource)}}function G(i,e){1&i&&(o.TgZ(0,"div",6),o.TgZ(1,"ion-grid"),o.TgZ(2,"ion-row"),o.TgZ(3,"ion-col"),o.TgZ(4,"ion-col"),o.TgZ(5,"div",8),o.TgZ(6,"h4"),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&i&&(o.xp6(7),o.Oqu(o.lcZ(8,1,"MENU.notfound")))}let L=(()=>{class i{constructor(i,e,t,s,r,c,a,l,d,g,u,p){this.restApiService=i,this.manageCartService=e,this.navCtrl=t,this.modalController=s,this.alertController=r,this.router=c,this.loadingController=a,this.socket=l,this.rangeByStoreService=d,this.notificationService=g,this.getStoreName=u,this.saveRandom=p,this.buyPacks=new o.vpe,this.removeOnePacks=new o.vpe,this.removeOneResto=new o.vpe,this.buyProduct=new o.vpe,this.displayItems=new o.vpe,this.randomObj={},this.packs2=[],this.allProducts=[],this.totalItems=0,this.totalPrice=0,this.isItemAvailable=!1,this.isItemAvailable2=!1,this.btnProducts=!0,this.btnAllProducts=!1,this.btnResto=!1,this.btnPack=!0,this.btnResource=!1,this.isLoading=!1,this.tabRoles=[],this.isRetailer=!1,this.adminId=localStorage.getItem("adminId"),this.notificationService.presentLoading(),setTimeout(()=>(0,n.mG)(this,void 0,void 0,function*(){console.log("les packs****",this.packs),this.multiStoreProductitem=yield this.rangeByStoreService.rangeProductByStore(this.packs),this.notificationService.dismissLoading()}),3e3)}ngOnInit(){this.saveRandom.checkIfIsRetailer()&&(this.isRetailer=!0),this.setting=this.saveRandom.getSetting();let i=JSON.parse(localStorage.getItem("adminUser")).storeType;this.storeTypeTab=this.setting.check_service_quantity?i:i.filter(i=>"services"!==i),this.storeTypeTab=this.storeTypeTab.filter(i=>"resto"!=i),this.pet=this.storeTypeTab[0],setTimeout(()=>{},1e3)}segmentChangedEnter(){this.pet="product"}buyItem(i){return new Promise((e,t)=>{this.buyProduct.emit(i),setTimeout(()=>{e("ok")},10)})}buyPackProduct(i){return console.log(i),new Promise((e,t)=>{this.buyPacks.emit(i),setTimeout(()=>{e("ok")},10)})}removePack(i){return new Promise((e,t)=>{this.removeOnePacks.emit(i),setTimeout(()=>{e("ok")},10)})}segmentChanged(i){console.log("Segment changed",i.target.value);let e=i.target.value;this.pet=e,"bar"==e?(this.btnPack=!0,this.btnResto=!1):"resto"==e?(this.btnResto=!0,this.btnProducts=!1,this.btnAllProducts=!1,this.btnPack=!1):"pack"===e?(this.btnResto=!1,this.btnProducts=!1,this.btnAllProducts=!1,this.btnPack=!0):"resource"===e&&(this.btnResto=!1,this.btnProducts=!1,this.btnPack=!1,this.btnResource=!0)}priceChange(i){console.log(i),this.Itemprice=i.sellingPrice}displayPrice(i){this.Reduction=i}presentAlert(){return(0,n.mG)(this,void 0,void 0,function*(){const i=yield this.alertController.create({header:"Alert",subHeader:"Subtitle",message:"le prix entr\xe9 n.est pas bon.",buttons:["OK"]});yield i.present()})}initializeItems(){}getValueBtl(i,e){return(0,n.mG)(this,void 0,void 0,function*(){let t=parseInt(i.target.value),n=e._id,o=t,s=this.randomObj[n];if(e.prix=parseInt(e.packPrice)?parseInt(e.packPrice):0,o&&o>0)if(e.sizePack&&o>=e.sizePack){console.log("hello");let i=o/e.sizePack,t=o%e.sizePack;e.noHandle=1,yield this.addCassier(Math.trunc(i),e),yield this.addBtl(t,e),setTimeout(()=>{e.noHandle=0},2e3)}else console.log("hello second"),s?o?e.packPrice&&(console.log(this.randomObj[n]),this.randomObj[n].prod.nbrBtl=o):this.randomObj[n].prod.nbrBtl=0:e.packPrice?(this.randomObj[n]={sale:0,coast:0,prod:e},e.nbrBtl=o):(e.packPrice=0,this.randomObj[n]={sale:0,coast:0,prod:e},e.nbrBtl=o),this.displayItems.emit(this.randomObj);else console.log("rien"),e.noHandle||(e.nbrBtl=0,e.inputValue=0,this.displayItems.emit(this.randomObj))})}addBtl(i,e){return(0,n.mG)(this,void 0,void 0,function*(){let t=e._id;this.randomObj[t]?i?e.packPrice&&(this.randomObj[t].prod.nbrBtl=i):this.randomObj[t].prod.nbrBtl=0:e.packPrice&&(console.log("hello mballus"),this.randomObj[t]={sale:0,coast:0,prod:e},e.nbrBtl=i),this.displayItems.emit(this.randomObj)})}getValue(i,e){return(0,n.mG)(this,void 0,void 0,function*(){console.log("get value",e);let t=parseInt(i.target.value),n=e._id,o=t;if(e.prix=parseInt(e.packPrice)?parseInt(e.packPrice):0,e.myValue=Number.isNaN(t)?0:o,!e.noHandle){let i=this.randomObj[n];console.log(e),i?o?(e.fisrtValueAdd=o,this.randomObj[n]=e.packPrice?{sale:o,coast:o*parseInt(e.packPrice),prod:e}:{sale:o,coast:0,prod:e}):(e.fisrtValueAdd=0,e.nbrBtl=0,delete this.randomObj[n]):e.packPrice?(this.randomObj[n]={sale:o,coast:o*parseInt(e.packPrice),prod:e},e.fisrtValueAdd=o):this.randomObj[n]={sale:o,coast:0,prod:e},e.nbrCassier=e.nbrCassier?e.nbrCassier+o:o,this.displayItems.emit(this.randomObj)}})}addCassier(i,e){return(0,n.mG)(this,void 0,void 0,function*(){let t=e._id;e.myValue=this.randomObj[t]&&this.randomObj[t].sale?this.randomObj[t].sale+i:i;let n=this.randomObj[t];if(e.prix=parseInt(e.packPrice)?parseInt(e.packPrice):0,n){let n=this.randomObj[t].sale+i;delete this.randomObj[t],i&&e.packPrice&&(this.randomObj[t]={sale:n,coast:n*parseInt(e.packPrice),prod:e})}else e.packPrice?(this.randomObj[t]={sale:i,coast:i*parseInt(e.packPrice),prod:e},e.fisrtValueAdd=i):this.randomObj[t]={sale:i,coast:0,prod:e};e.nbrCassier=e.nbrCassier?e.nbrCassier+i:i,this.displayItems.emit(this.randomObj)})}getOnePack(i,e){return(0,n.mG)(this,void 0,void 0,function*(){let t=e._id,n=this.randomObj[t];if(n){if(i){let i=this.randomObj[t];delete this.randomObj[t];let n=i.prod.fisrtValueAdd+1;this.randomObj[t]={sale:n,coast:n*parseInt(e.packPrice),prod:e},e.fisrtValueAdd=n}else if(console.log("hi 2"),!e.nbrBtl&&n){delete this.randomObj[t];let i=e.qty-1;console.log(i),this.randomObj[t]={sale:i,remove:1,coast:i*parseInt(e.packPrice),prod:e},e.fisrtValueAdd=i-1,e.nbrBtl=""}}else i&&e.packPrice&&(this.randomObj[t]={sale:1,coast:1*parseInt(e.packPrice),prod:e},e.fisrtValueAdd=1);this.displayItems.emit(this.randomObj)})}getValueResto(i,e){return(0,n.mG)(this,void 0,void 0,function*(){let t=parseInt(i.target.value),n=e._id,o=t,s=this.randomObj[n];Number.isNaN(t)?(e.fisrtValueAdd=null,e.qty=0):e.fisrtValueAdd=t,this.saveRandom.checkIfIsRetailer()&&(e.purchasingPrice=e.retailerPrice),s?(delete this.randomObj[n],o?this.randomObj[n]=e.purchasingPrice?{sale:o,coast:o*parseInt(e.purchasingPrice),prod:e}:{sale:o,coast:0,prod:e}:(e.qty=0,this.randomObj[n]={sale:0,coast:0,prod:e})):o&&(this.randomObj[n]=e.purchasingPrice?{sale:o,coast:o*parseInt(e.purchasingPrice),prod:e}:{sale:o,coast:0,prod:e},console.log(this.randomObj[n])),this.buyProduct.emit(this.randomObj)})}changePrice(i,e){let t=parseInt(i.target.value),n=e._id,o=0,s=this.randomObj[n];if(e.purchasingPrice=Number.isNaN(t)?0:t,e.fisrtValueAdd){if(o=e.fisrtValueAdd,!s)return;delete this.randomObj[n],o&&(e.packPrice=o,this.randomObj[n]={sale:o,coast:o*t,prod:e},console.log(e)),this.displayItems.emit(this.randomObj)}}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(s.e),o.Y36(r.B),o.Y36(c.SH),o.Y36(c.IN),o.Y36(c.Br),o.Y36(a.F0),o.Y36(c.HT),o.Y36(l.sk),o.Y36(d.n),o.Y36(g.g),o.Y36(u.$),o.Y36(p.i))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-courses"]],viewQuery:function(i,e){if(1&i&&o.Gf(f,3),2&i){let i;o.iGM(i=o.CRH())&&(e.slides=i.first)}},inputs:{productResto:"productResto",multiStoreResto:"multiStoreResto",multiStoreResource:"multiStoreResource",packs:"packs",storeTypeTab:"storeTypeTab",multiStoreList:"multiStoreList",multiStoreService:"multiStoreService"},outputs:{buyPacks:"buyPacks",removeOnePacks:"removeOnePacks",removeOneResto:"removeOneResto",buyProduct:"buyProduct",displayItems:"displayItems"},decls:11,vars:11,consts:[["scrollable","",3,"value","ngModel","ionChange","ngModelChange",4,"ngIf"],["pager","true",4,"ngIf"],[4,"ngIf"],["scrollable","",3,"value","ngModel","ionChange","ngModelChange"],["class","btnseg",3,"value",4,"ngFor","ngForOf"],[1,"btnseg",3,"value"],["pager","true"],[4,"ngFor","ngForOf"],[1,"ion-text-center","ion-text-uppercase"],["lines","full",4,"ngIf"],["lines","full"],["class","divitem nodejs","lines","full",4,"ngFor","ngForOf"],["lines","full",1,"divitem","nodejs"],[1,"inItem","inItem3"],[1,"inItem"],["slot","end","placeholder","cassier","type","number","debounce","500",3,"ngModel","ngModelChange","ionChange"],["slot","end","placeholder","btls ","type","number","debounce","500",3,"ngModel","ngModelChange","ionChange"],["slot","end","type","number","debounce","1000",3,"disabled","placeholder","ionChange"],[1,"nodejs"],["lines","full",3,"hidden"],["lines","full",4,"ngFor","ngForOf"],["slot","end","placeholder","Enter ","type","number","debounce","1500",3,"ionChange"],["slot","end","type","number","debounce","1000",3,"disabled","placeholder","ionChange",4,"ngIf"],["slot","end","placeholder","Enter ","type","number","debounce","1500",3,"ngModel","ngModelChange","ionChange"]],template:function(i,e){1&i&&(o.YNc(0,A,2,3,"ion-segment",0),o.YNc(1,P,2,1,"ion-slides",1),o.YNc(2,v,9,3,"div",2),o.YNc(3,N,2,1,"ion-slides",1),o.YNc(4,y,9,3,"div",2),o.YNc(5,_,2,1,"ion-slides",1),o.YNc(6,S,9,3,"div",2),o.YNc(7,F,2,1,"ion-slides",1),o.YNc(8,R,9,3,"div",2),o.YNc(9,E,2,1,"ion-slides",1),o.YNc(10,G,9,3,"div",1)),2&i&&(o.Q6J("ngIf",e.storeTypeTab.length>1),o.xp6(1),o.Q6J("ngIf","bar"===e.pet),o.xp6(1),o.Q6J("ngIf","bar"===e.pet&&0==e.packs.length),o.xp6(1),o.Q6J("ngIf","resto"===e.pet),o.xp6(1),o.Q6J("ngIf","resto"===e.pet&&0===e.multiStoreResource.length),o.xp6(1),o.Q6J("ngIf","services"===e.pet&&e.multiStoreService.length),o.xp6(1),o.Q6J("ngIf","services"===e.pet&&0===e.multiStoreService.length),o.xp6(1),o.Q6J("ngIf","shop"===e.pet&&e.multiStoreList.length),o.xp6(1),o.Q6J("ngIf","shop"===e.pet&&0===e.multiStoreList.length),o.xp6(1),o.Q6J("ngIf","resource"===e.pet),o.xp6(1),o.Q6J("ngIf","resource"===e.pet&&0==e.multiStoreResource.length))},directives:[h.O5,c.cJ,c.QI,m.JJ,m.On,h.sg,c.GO,c.Hr,c.A$,c.jY,c.Nd,c.wI,c.pK,c.as,c.q_,c.Ie,c.Q$],pipes:[Z.X$],styles:[".badge[_ngcontent-%COMP%], .badge2[_ngcontent-%COMP%]{width:25%;position:absolute;top:7%;display:flex;justify-content:space-between;font-size:13px}.badge2[_ngcontent-%COMP%]{padding:5px;z-index:2}.colstyle[_ngcontent-%COMP%]{border-radius:5%;border:1px solid #f1f1f1}.cardimage[_ngcontent-%COMP%]{text-align:center}.divitem[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.inItem[_ngcontent-%COMP%]{flex-grow:1;width:25%}.inItem2[_ngcontent-%COMP%]{text-align:center}.inItem3[_ngcontent-%COMP%]{font-size:10px;padding-left:10px;font-weight:700;text-transform:uppercase}.divBtn[_ngcontent-%COMP%]{display:flex}div[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background-color:#f1f1f1}.displayPrice[_ngcontent-%COMP%]{font-size:11px}"]}),i})()},1044:(i,e,t)=>{"use strict";t.d(e,{n:()=>r});var n=t(4762),o=t(1572),s=t(9719);let r=(()=>{class i{constructor(i){this.getStoreName=i}rangeProductByStore(i){return new Promise((e,t)=>{let o=i.reduce((i,e)=>(i[e.storeId]=[...i[e.storeId]||[],e],i),{}),s=[];for(const i in o)s.push(o[i]);s.forEach(i=>(0,n.mG)(this,void 0,void 0,function*(){let e=yield this.getStoreName.takeName(i);i.storeName=e})),e(s)})}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(s.$))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);