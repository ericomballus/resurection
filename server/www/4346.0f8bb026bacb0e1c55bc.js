(self.webpackChunkWebsite=self.webpackChunkWebsite||[]).push([[4346],{4346:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AdminPagePageModule:()=>b});var o=n(1511),i=n(6073),s=n(8777),r=n(8158),c=n(4762),l=n(8959),a=n(2730),d=n(2612),u=n(6755),g=n(1572),m=n(5946),h=n(4892);const f=[{path:"",component:(()=>{class t{constructor(t,e,n,o,i,s){this.adminService=t,this.modalController=e,this.socket=n,this.router=o,this.alertController=i,this.actionSheetController=s,this.custumers=[],this.tab=[],this.adminId=localStorage.getItem("adminId"),this.webServerSocket(this.adminId)}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){})}getCustomers(){this.adminService.getUser().subscribe(t=>{console.log(t),this.custumers=[],this.custumers=t.users})}updateCustomer(t){return(0,c.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:l.N,componentProps:{custumer:t}});return e.onDidDismiss().then(t=>{console.log(t)}),yield e.present()})}monitoringCustomer(t){return(0,c.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:u.B,componentProps:{custumer:t}});return e.onDidDismiss().then(t=>{console.log(t)}),yield e.present()})}webServerSocket(t){console.log("hello hello"),this.socket.connect(),this.socket.emit("set-name",name),this.socket.fromEvent("custumerupdate").subscribe(t=>{console.log("user change ",t);let e=this.custumers.findIndex(e=>e._id===t._id);console.log(e),this.custumers.splice(e,1,t)}),this.socket.fromEvent(t).subscribe(t=>{console.log("database",t)}),this.socket.fromEvent("newUser").subscribe(t=>{console.log("new user",t)}),this.socket.fromEvent("requestIn").subscribe(t=>{console.log("Incomming",t)})}addCustomer(){this.router.navigateByUrl("register")}displayDatabase(){this.router.navigateByUrl("database")}goDatabase(t){return(0,c.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:a.E,componentProps:{db:t}});return e.onDidDismiss().then(t=>{console.log(t)}),yield e.present()})}goToAdminConfig(){return(0,c.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:d.$,componentProps:{}});return t.onDidDismiss().then(t=>{console.log(t)}),yield t.present()})}goToProducts(){this.router.navigateByUrl("admin-products")}presentActionSheet(t){return(0,c.mG)(this,void 0,void 0,function*(){const e=yield this.actionSheetController.create({header:"Albums",buttons:[{text:"Update",role:"destructive",icon:"contact",handler:()=>{this.updateCustomer(t)}},{text:"Monitoring",icon:"share",handler:()=>{this.monitoringCustomer(t)}},{text:"Play (open modal)",icon:"arrow-dropright-circle",handler:()=>{console.log("Play clicked")}},{text:"Delete",icon:"trash-outline",handler:()=>{this.presentAlertConfirm(t)}},{text:"Cancel",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]});yield e.present()})}presentAlertConfirm(t){return(0,c.mG)(this,void 0,void 0,function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",message:"Delete user?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Confirm Cancel: blah")}},{text:"Ok",handler:()=>{t.delete=!0,this.removeUser(t)}}]});yield e.present()})}removeUser(t){this.adminService.deleteCustomer(t).subscribe(t=>{console.log(t),this.getCustomers()})}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(m.l),g.Y36(r.IN),g.Y36(h.sk),g.Y36(s.F0),g.Y36(r.Br),g.Y36(r.BX))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-admin-page"]],decls:34,vars:0,consts:[["slot","start"],["autoHide","false"],[1,"ion-align-items-center"],["size","3",1,"ion-align-self-center"],[1,"btnfooter"],["fill","clear",3,"click"],[1,"btnfooter2"],["slot","end","name","add-circle-outline",1,"btnfooter2"],[1,"btnfooter","btnfooter2"],["slot","end","name","basket-outline",1,"btnfooter2"],["slot","end","name","book-outline",1,"btnfooter2"]],template:function(t,e){1&t&&(g.TgZ(0,"ion-header"),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-title"),g._uU(3,"MAERI ADMIN"),g.qZA(),g.TgZ(4,"ion-buttons",0),g._UZ(5,"ion-menu-button",1),g.qZA(),g.qZA(),g.qZA(),g._UZ(6,"ion-content"),g.TgZ(7,"ion-footer"),g.TgZ(8,"ion-toolbar"),g.TgZ(9,"ion-row",2),g.TgZ(10,"ion-col",3),g.TgZ(11,"div",4),g.TgZ(12,"ion-button",5),g.NdJ("click",function(){return e.router.navigateByUrl("admin-display-custumers")}),g.TgZ(13,"div",6),g._UZ(14,"ion-icon",7),g._uU(15," custumers "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"ion-col",3),g.TgZ(17,"div",8),g.TgZ(18,"ion-button",5),g.NdJ("click",function(){return e.displayDatabase()}),g.TgZ(19,"div",6),g._UZ(20,"ion-icon",9),g._uU(21," database "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"ion-col",3),g.TgZ(23,"div",8),g.TgZ(24,"ion-button",5),g.NdJ("click",function(){return e.goToProducts()}),g.TgZ(25,"div",6),g._UZ(26,"ion-icon",10),g._uU(27," products "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(28,"ion-col",3),g.TgZ(29,"div",8),g.TgZ(30,"ion-button",5),g.NdJ("click",function(){return e.goToAdminConfig()}),g.TgZ(31,"div",6),g._UZ(32,"ion-icon",10),g._uU(33," config "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA())},directives:[r.Gu,r.sr,r.wd,r.Sm,r.fG,r.W2,r.fr,r.Nd,r.wI,r.YG,r.gu],styles:[".adminflex[_ngcontent-%COMP%]{display:flex;max-width:100%}.box[_ngcontent-%COMP%]{display:flex;min-width:25%;height:70px;flex-grow:1}.adminflex[_ngcontent-%COMP%] > .one[_ngcontent-%COMP%]{background-color:#37f888}.adminflex[_ngcontent-%COMP%] > .two[_ngcontent-%COMP%]{background-color:#f713eb}.adminflex[_ngcontent-%COMP%] > .three[_ngcontent-%COMP%]{background-color:#0c9bee}.adminflex[_ngcontent-%COMP%] > .four[_ngcontent-%COMP%]{background-color:#f2f551}.btnadmin[_ngcontent-%COMP%]{position:relative;display:flex;top:25px}.listuser[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:relative;left:50%}.image[_ngcontent-%COMP%]{width:55%;position:relative;top:10%;left:20%}.image[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:55%;text-align:center}.footer[_ngcontent-%COMP%]{width:100%;color:#fff;font-weight:700;background:#374168;height:56px;line-height:56px;position:fixed;bottom:0}.btnfooter[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:#494848;font-size:11px}ion-button[_ngcontent-%COMP%]   .btnmenu[_ngcontent-%COMP%], ion-button[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center}ion-button[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:15px}.btnfooter2[_ngcontent-%COMP%]{color:#494848;font-size:11px;font-weight:bolder}ion-button[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{position:absolute;opacity:.9;top:.1rem;right:.2rem}ion-button[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%] ~ ion-icon[_ngcontent-%COMP%]{margin-right:1.2rem}"]}),t})()}];let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[o.ez,i.u5,r.Pc,s.Bz.forChild(f)]]}),t})()}}]);