<ion-header>
  <ion-toolbar>
    <ion-buttons slot="end">
      <ion-button color="success" (click)="dismiss()">
        close
        <ion-icon name="close-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item lines="full">
    <ion-icon slot="end" name="person-circle-outline"></ion-icon>
    <ion-label
      style="font-weight: bold; text-transform: uppercase"
      position="floating"
    >
      Nom client
    </ion-label>
    <ion-input [(ngModel)]="customer.name" type="text" required></ion-input>
  </ion-item>
  <ion-item lines="full" *ngIf="customer.Role">
    <ion-label
      style="font-weight: bold; text-transform: uppercase"
      position="floating"
    >
      Status: chef d'équipe
    </ion-label>
  </ion-item>
  <ion-item lines="full">
    <ion-icon slot="end" name="call"></ion-icon>
    <ion-label
      style="font-weight: bold; text-transform: uppercase"
      position="floating"
      >Telephone</ion-label
    >
    <ion-input [(ngModel)]="customer.phone" type="text" required></ion-input>
  </ion-item>

  <ion-item lines="full">
    <ion-icon slot="end" name="map-outline"></ion-icon>
    <ion-label
      style="font-weight: bold; text-transform: uppercase"
      position="floating"
      >ville</ion-label
    >
    <ion-input [(ngModel)]="customer.ville" required></ion-input>
  </ion-item>
  <ion-item lines="full">
    <ion-icon slot="end" name="home"></ion-icon>
    <ion-label
      style="font-weight: bold; text-transform: uppercase"
      position="floating"
      >quartier</ion-label
    >
    <ion-input [(ngModel)]="customer.quartier" required></ion-input>
  </ion-item>
  <ion-item lines="full">
    <ion-label position="floating">Code client</ion-label>
    <ion-input [(ngModel)]="customer.codeClient" type="text"></ion-input>
  </ion-item>
  <ion-item>
    <ion-icon slot="end" name="man-outline"></ion-icon>
    <ion-label>Type de client</ion-label>
    <ion-select
      value="{{customer.customerType ? customer.customerType : ' '}}"
      interface="popover"
      (ionChange)="typeDeClient($event)"
    >
      <ion-select-option value="RP">Répresentant</ion-select-option>
      <ion-select-option value="SM">Super marché</ion-select-option>
      <ion-select-option value="FR">Franchise</ion-select-option>
      <ion-select-option value="AU">Autre</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-select placeholder="Select Role" (ionChange)="logValue($event)">
      <ion-select-option value="C">Chef d'équipe ?</ion-select-option>
      <ion-select-option value="A">Autres</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-label
      style="font-weight: bold; text-transform: uppercase"
      position="floating"
      >Pourcentage de réduction</ion-label
    >
    <ion-input type="number" [(ngModel)]="customer.reduction"></ion-input>
  </ion-item>

  <ion-item *ngIf="useBonus">
    <ion-label>Chef Equipe</ion-label>
    <ion-select (ionChange)="addChefEquipe($event)">
      <ion-select-option
        *ngFor="let customer of customerList"
        value="{{ customer._id }}"
        >{{ customer.name }}</ion-select-option
      >
    </ion-select>
  </ion-item>

  <ion-row>
    <ion-col>
      <ion-button (click)="save()" color="danger" expand="block"
        >Submit</ion-button
      >
    </ion-col>
  </ion-row>
</ion-content>
